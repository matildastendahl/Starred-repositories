{"version":3,"file":"c-input.js","sourceRoot":"","sources":["../../../../src/components/c-input/c-input.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  Host,\n  h,\n  State,\n  Prop,\n  Event,\n  EventEmitter,\n  Element,\n  Watch,\n  Method,\n} from '@stencil/core';\nimport { CAutocompleteItem, CSelectItem } from '../../types';\n\n/**\n * @parent None\n */\n@Component({\n  tag: 'c-input',\n  styleUrl: 'c-input.scss',\n  shadow: false,\n})\nexport class CInput {\n  @Element() el!: HTMLCInputElement;\n\n  /**\n   * Active state\n   */\n  @Prop() active = false;\n\n  /**\n   * Auto focus the input\n   */\n  @Prop() autofocus = false;\n\n  /**\n   * Disable the input\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Render a hidden input outside the shadow dom\n   */\n  @Prop() form = false;\n\n  /**\n   * Hide the hint and error messages\n   */\n  @Prop() hideDetails = false;\n\n  /**\n   * Hint text for the input\n   */\n  @Prop() hint = '';\n\n  /**\n   * Id of the input\n   */\n  @Prop({ attribute: 'id' }) hostId: string;\n\n  /**\n   * Id of the input element\n   */\n  @Prop() inputId: string;\n\n  /**\n   * Items for the dropdown\n   */\n  @Prop() items: CSelectItem[];\n\n  /**\n   * Items per page before adding scroll\n   */\n  @Prop() itemsPerPage = 6;\n\n  /**\n   * Label of the input\n   */\n  @Prop() label: string;\n\n  /**\n   * Maximum value on a numeric input\n   */\n  @Prop() max: number = null;\n\n  /**\n   * Minimum value on a numeric input\n   */\n  @Prop() min: number = null;\n\n  /**\n   * Name of the input\n   */\n  @Prop() name: string;\n\n  /**\n   * Placeholder of the input\n   */\n  @Prop() placeholder: string;\n\n  /**\n   * Mark as readonly\n   */\n  @Prop() readonly = false;\n\n  /**\n   * Set the input as required\n   */\n  @Prop() required = false;\n\n  /**\n   * Rows on the input\n   */\n  @Prop() rows = 1;\n\n  /**\n   * Shadow variant of the input\n   */\n  @Prop() shadow = false;\n\n  /**\n   * Step size on a numeric input\n   */\n  @Prop() step: number = null;\n\n  /**\n   * Type of the input\n   */\n  @Prop() type: string;\n\n  /**\n   * Set the valid√≠ty of the input\n   */\n  @Prop() valid = true;\n\n  /**\n   * Manual validation\n   */\n  @Prop() validate = false;\n\n  /**\n   * Validate the input on blur\n   */\n  @Prop() validateOnBlur = false;\n\n  /**\n   * Custom validation message\n   */\n  @Prop() validation = 'Required field';\n\n  /**\n   * Value of the input\n   */\n  @Prop() value: string | number | boolean | CSelectItem | CAutocompleteItem;\n\n  /**\n   * Variant\n   */\n  @Prop() variant: 'text' | 'select' = 'text';\n\n  /**\n   * Emit changes to the parent\n   */\n  @Event({ bubbles: false }) changeValue: EventEmitter;\n\n  /**\n   * Emit click to the parent\n   * @private\n   */\n  @Event({ bubbles: false }) itemClick: EventEmitter;\n\n  /**\n   * Emit close to the parent\n   * @private\n   */\n  @Event({ bubbles: false }) dropdownClose: EventEmitter;\n\n  @State() isFocused = false;\n\n  @State() labelWidth = 0;\n\n  @State() preSlotWidth = 0;\n\n  @State() statusText = '';\n\n  @State() currentIndex: number = null;\n\n  @Watch('valid')\n  onValidChange() {\n    if (this.validateOnBlur && !this._hasBlurred) return;\n\n    this._setAriaDescriptionId();\n  }\n\n  @Watch('validation')\n  onValidationMessageChange() {\n    this._updateStatusText();\n  }\n\n  @Watch('value')\n  onValueChange(value) {\n    if (!value) {\n      this._onReset();\n    }\n  }\n\n  @Watch('placeholder')\n  onPlaceholderChange(placeholder) {\n    if (placeholder) this._onReset();\n  }\n\n  private _hasBlurred = false;\n\n  private _labelRef: HTMLLabelElement;\n\n  private _debounce = null;\n\n  private _dropdownElement: HTMLCDropdownElement;\n\n  /**\n   * @private\n   */\n  @Method()\n  async reset() {\n    this._onReset();\n  }\n\n  componentDidLoad() {\n    if (this.autofocus) {\n      setTimeout(() => {\n        this._onFocus(false);\n      }, 500);\n    }\n\n    this._calculateElementWidths();\n    this._setAriaDescriptionId();\n\n    if (this.label) {\n      this._observer.observe(this._labelRef);\n    }\n\n    this.inputField?.addEventListener('focus', () => this._onFocus(false));\n    this.inputField?.addEventListener('blur', () => this._onBlur());\n    this.inputField?.addEventListener(\n      'keypress',\n      this._preventNonNumericalInput,\n    );\n\n    // hide the placeholder text initially if there is a label\n    if (this.inputField) {\n      this.inputField.placeholder =\n        !!this.label || !this.placeholder ? '' : this.placeholder;\n\n      this.inputField.title = this.label ?? this.placeholder;\n\n      requestAnimationFrame(() => {\n        const container = this.inputField.closest(\n          '.c-input-menu__input',\n        ) as HTMLDivElement;\n\n        if (!container) return;\n\n        container.dataset.placeholder = this.placeholder;\n      });\n    }\n  }\n\n  disconnectedCallback() {\n    this.inputField?.removeEventListener('focus', () => this._onFocus(false));\n    this.inputField?.removeEventListener('blur', () => this._onBlur());\n    this.inputField?.removeEventListener(\n      'keypress',\n      this._preventNonNumericalInput,\n    );\n\n    this._observer.disconnect();\n\n    this._dropdownElement?.remove();\n  }\n\n  get isActive() {\n    return !!this.value || typeof this.value === 'boolean' || this.isFocused;\n  }\n\n  private _setAriaDescriptionId() {\n    this.inputField.removeAttribute('aria-describedby');\n\n    let type = null;\n\n    if (this.valid && !this.value && this.hint) {\n      type = 'hint';\n    }\n\n    if (!this.valid) {\n      type = 'error';\n    }\n\n    if (type) {\n      this.inputField.setAttribute(\n        'aria-describedby',\n        `${type}-${this.inputId}`,\n      );\n    }\n  }\n\n  private _observer = new IntersectionObserver(\n    (entries, observer) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          this._calculateElementWidths();\n          observer.unobserve(entry.target);\n        }\n      });\n    },\n    { threshold: 1 },\n  );\n\n  private _calculateElementWidths() {\n    this.labelWidth = !!this.label ? this._labelRef.scrollWidth * 0.75 + 6 : 0;\n    this.preSlotWidth = this.inputField.offsetLeft;\n  }\n\n  private _onBlur = () => {\n    // delay the blur event to prevent the label from 'flashing' on c-select selection\n    setTimeout(() => {\n      this.isFocused = false;\n\n      this._hasBlurred = true;\n\n      // show the label if there's no label or value\n      this._onReset();\n    }, 100);\n  };\n\n  private _onFocus = (click = true) => {\n    if (this.disabled) return;\n\n    this.isFocused = true;\n\n    this.inputField?.focus();\n\n    if (click) {\n      this.inputField?.click();\n\n      if (this.variant === 'select') {\n        this.itemClick.emit();\n      }\n    }\n\n    // show the label if there's no value\n    if (this.inputField) {\n      this.inputField.placeholder =\n        !!this.value || !this.placeholder ? '' : this.placeholder;\n    }\n  };\n\n  private _onReset() {\n    if (this.inputField) {\n      if (\n        !!this.placeholder &&\n        !this.value &&\n        (this.active || this.isFocused)\n      ) {\n        this.inputField.placeholder = this.placeholder;\n\n        return;\n      }\n\n      this.inputField.placeholder =\n        !this.label && !this.value && !!this.placeholder\n          ? this.placeholder\n          : '';\n    }\n  }\n\n  /**\n   * Prevent non numeric values in the numeric fields\n   */\n  private _preventNonNumericalInput(event: KeyboardEvent) {\n    if (this.type !== 'number') return;\n\n    if (!event.key.match(/^[0-9,\\.-]+$/)) {\n      event.preventDefault();\n    }\n  }\n\n  private _renderBorders() {\n    if (this.shadow) return;\n\n    const classes = {\n      active: this.isActive || this.active,\n    };\n\n    return (\n      <fieldset aria-hidden=\"true\">\n        <legend\n          class={classes}\n          style={{\n            '--_c-input-legend-width': this.labelWidth + 'px',\n          }}\n        >\n          <span class=\"notranslate\"></span>\n        </legend>\n      </fieldset>\n    );\n  }\n\n  private _renderLabel() {\n    if (!this.label) return;\n\n    const classes = {\n      active: this.isActive,\n    };\n\n    return (\n      <label\n        htmlFor={this.inputId}\n        ref={(el) => (this._labelRef = el as HTMLLabelElement)}\n        class={classes}\n      >\n        {this.label}\n        {this.required && <span>&nbsp;*</span>}\n      </label>\n    );\n  }\n\n  get inputField() {\n    return this.el?.querySelector('.c-input__input') as\n      | HTMLInputElement\n      | HTMLTextAreaElement;\n  }\n\n  private _updateStatusText() {\n    if (this._debounce !== null) {\n      clearTimeout(this._debounce);\n      this._debounce = null;\n    }\n\n    this._debounce = window.setTimeout(() => {\n      this.statusText = this.valid ? '' : `Error: ${this.validation}`;\n\n      this._debounce = null;\n    }, 1400);\n  }\n\n  render() {\n    const containerClasses = {\n      'c-input': true,\n      'c-input--disabled': this.disabled,\n      'c-input--shadow': this.shadow,\n      'c-input--textarea': this.rows > 1,\n      'c-input--error': !this.valid,\n      'c-input--active': this.isFocused || this.active,\n      filled: !!this.value,\n      [`c-input--${this.variant}`]: true,\n    };\n\n    return (\n      <Host disabled={this.disabled}>\n        <div\n          id={'announce-' + this.inputId}\n          class=\"visuallyhidden\"\n          aria-live=\"polite\"\n          aria-atomic=\"true\"\n        >\n          {this.statusText}\n        </div>\n\n        <div class={containerClasses}>\n          <div class=\"c-input__control\">\n            <div class=\"c-input__slot\" onClick={() => this._onFocus()}>\n              {this._renderBorders()}\n\n              <div\n                class=\"c-input__field\"\n                style={{\n                  '--_c-input-label-position': this.preSlotWidth + 'px',\n                }}\n              >\n                <slot name=\"pre\"></slot>\n\n                {this._renderLabel()}\n\n                <slot></slot>\n              </div>\n            </div>\n\n            {this.variant === 'select' && <slot name=\"dropdown\"></slot>}\n\n            {!this.hideDetails && (\n              <c-message\n                hint={this.hint}\n                inputId={this.inputId}\n                valid={this.valid}\n                validation={this.validation}\n              />\n            )}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"]}