{"version":3,"file":"c-progress-bar.js","sourceRoot":"","sources":["../../../../src/components/c-progress-bar/c-progress-bar.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,eAAe,CAAC;AAUzD,MAAM,OAAO,YAAY;;iBAIP,CAAC;uBAKK,KAAK;sBAKN,KAAK;iBAKV,EAAE;yBAKM,KAAK;;EAErB,aAAa;IACnB,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,KAAK,IAAI,GAAG;MAAE,OAAO,IAAI,CAAC,KAAK,CAAC;IAE5D,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC;MAAE,OAAO,CAAC,CAAC;IAE7B,OAAO,GAAG,CAAC;EACb,CAAC;EAED,MAAM;IACJ,MAAM,KAAK,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;IAEnC,MAAM,KAAK,GAAG;MACZ,yBAAyB,EAAE,GAAG,KAAK,GAAG;KACvC,CAAC;IAEF,MAAM,OAAO,GAAG;MACd,YAAY,EAAE,IAAI;MAClB,2BAA2B,EAAE,IAAI,CAAC,aAAa;MAC/C,kBAAkB,EAAE,IAAI,CAAC,UAAU;KACpC,CAAC;IAEF,MAAM,cAAc,GAAG;MACrB,wBAAwB,EAAE,IAAI;MAC9B,kCAAkC,EAAE,IAAI,CAAC,KAAK,GAAG,CAAC;MAClD,kBAAkB,EAAE,IAAI,CAAC,UAAU;KACpC,CAAC;IAEF,MAAM,IAAI,GAAG;MACX,WAAW,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,QAAQ,EAAE;MAC7C,KAAK,EAAE,GAAG,KAAK,IAAI;KACpB,CAAC;IAEF,MAAM,MAAM,GAKR;MACF,IAAI,EAAE,aAAa;MACnB,GAAG,EAAE,KAAK;KACX,CAAC;IAEF,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;MACvB,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;MAChC,MAAM,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;KAC5C;IAED,OAAO,CACL,EAAC,IAAI,oBAAK,IAAI;MACZ,aAAO,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK;QACjC,gCAAc,MAAM,GAAG,CAAC,IAAI,CAAC,aAAa,IAAI,GAAG,KAAK,GAAG,CAAY,CAC/D;MAEP,CAAC,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,CAC3C,WAAK,KAAK,EAAE,cAAc;QACvB,IAAI,CAAC,KAAK;;QAAK,IAAI,CAAC,KAAK,CACtB,CACP,CACI,CACR,CAAC;EACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, Host, h, Prop } from '@stencil/core';\n\n/**\n * @group Indicators\n */\n@Component({\n  tag: 'c-progress-bar',\n  styleUrl: 'c-progress-bar.scss',\n  shadow: true,\n})\nexport class CProgressBar {\n  /**\n   * Progress bar value in percentage (0 to 100)\n   */\n  @Prop() value = 0;\n\n  /**\n   * Hide the percentage display\n   */\n  @Prop() hideDetails = false;\n\n  /**\n   * Place details next to progress bar\n   */\n  @Prop() singleLine = false;\n\n  /**\n   * Optional details message next to percentage display\n   */\n  @Prop() label = '';\n\n  /**\n   * Indeterminate state of the progress bar\n   */\n  @Prop() indeterminate = false;\n\n  private _getSafeValue() {\n    if (this.value >= 0 && this.value <= 100) return this.value;\n\n    if (this.value < 0) return 0;\n\n    return 100;\n  }\n\n  render() {\n    const value = this._getSafeValue();\n\n    const style = {\n      '--_c-progress-bar-value': `${value}%`,\n    };\n\n    const classes = {\n      'c-progress': true,\n      'c-progress--indeterminate': this.indeterminate,\n      'adjacent-details': this.singleLine,\n    };\n\n    const detailsClasses = {\n      'c-progress__percentage': true,\n      'c-progress__percentage--negative': this.value < 0,\n      'adjacent-details': this.singleLine,\n    };\n\n    const a11y = {\n      'aria-busy': (!this.indeterminate).toString(),\n      title: `${value} %`,\n    };\n\n    const params: {\n      role: string;\n      max: string;\n      value?: string;\n      'aria-valuenow'?: string;\n    } = {\n      role: 'progressbar',\n      max: '100',\n    };\n\n    if (!this.indeterminate) {\n      params.value = value.toString();\n      params['aria-valuenow'] = value.toString();\n    }\n\n    return (\n      <Host {...a11y}>\n        <label class={classes} style={style}>\n          <progress {...params}>{!this.indeterminate && `${value}%`}</progress>\n        </label>\n\n        {!this.indeterminate && !this.hideDetails && (\n          <div class={detailsClasses}>\n            {this.value} % {this.label}\n          </div>\n        )}\n      </Host>\n    );\n  }\n}\n"]}