{"version":3,"file":"c-dropdown.js","sourceRoot":"","sources":["../../../../src/components/c-dropdown/c-dropdown.tsx"],"names":[],"mappings":"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","sourcesContent":["import { mdiAlert, mdiInformation } from '@mdi/js';\nimport {\n  Component,\n  Host,\n  Prop,\n  h,\n  Element,\n  Method,\n  Watch,\n  Event,\n  EventEmitter,\n  State,\n} from '@stencil/core';\nimport { CAutocompleteItem, CSelectItem } from '../../types';\n\n@Component({\n  tag: 'c-dropdown',\n  styleUrl: 'c-dropdown.scss',\n  shadow: true,\n})\nexport class CDropdown {\n  @Element() el: HTMLCDropdownElement;\n\n  /**\n   * Items per page before adding scroll\n   */\n  @Prop() itemsPerPage: number;\n\n  /**\n   * Dropdown parent\n   */\n  @Prop() parent: HTMLCSelectElement | HTMLCAutocompleteElement;\n\n  /**\n   * Dropdown options\n   */\n  @Prop() items:\n    | NodeListOf<HTMLCOptionElement>\n    | CAutocompleteItem[]\n    | CSelectItem[];\n\n  /**\n   * Current index value\n   */\n  @Prop() index: number;\n\n  /**\n   * Id of the element\n   */\n  @Prop({ attribute: 'id' }) hostId: string;\n\n  /**\n   * Triggered when option is selected\n   */\n  @Event() selectOption: EventEmitter;\n\n  /**\n   * Type of the parent element\n   */\n  @Prop() type: 'select' | 'autocomplete';\n\n  /**\n   * Type of items\n   */\n  @Prop() itemType: 'option' | 'item';\n\n  /**\n   * Triggered when dropdown opens or closes\n   */\n  @Event() dropdownStateChange: EventEmitter<boolean>;\n\n  /**\n   * Dropdown dialog element\n   */\n  private _dialog: HTMLDialogElement;\n\n  private _debounce = null;\n\n  private _list: HTMLUListElement;\n\n  private _outsideClickFn: () => void;\n\n  private _resizeObserver: ResizeObserver;\n\n  private _inputElement: HTMLCInputElement;\n\n  private _dummyElement: HTMLDivElement;\n\n  private _isMobile = false;\n\n  private _listItems: HTMLLIElement[] = [];\n\n  private _originalOverflowValue: string;\n\n  @State() renderedList = null;\n\n  @State() isOpen = false;\n\n  @State() statusText = '';\n\n  @Watch('items')\n  optionsWatcher() {\n    requestAnimationFrame(() => {\n      this.renderedList = this._renderList();\n    });\n  }\n\n  @Watch('isOpen')\n  async stateWatcher(isOpen) {\n    this._originalOverflowValue =\n      this._originalOverflowValue ||\n      window.getComputedStyle(document.body).overflow;\n\n    if (isOpen) {\n      this._handleOpen();\n      this._disableScroll();\n    } else {\n      this._enableScroll();\n    }\n\n    this.dropdownStateChange.emit(isOpen);\n  }\n\n  @Watch('index')\n  handleIndexChange(index) {\n    requestAnimationFrame(() => {\n      this._updateStatusText();\n\n      this._listItems[index]?.focus();\n    });\n  }\n\n  /**\n   * @private\n   */\n  @Method()\n  async setStatusText(text: string) {\n    requestAnimationFrame(() => {\n      this.statusText = text;\n    });\n  }\n\n  /**\n   * @private\n   */\n  @Method()\n  async focusItem(index: number) {\n    requestAnimationFrame(() => {\n      this._listItems[index]?.focus();\n    });\n  }\n\n  /**\n   * Open dropdown\n   */\n  @Method()\n  async open() {\n    if (this._dialog.open) return;\n\n    this._outsideClickFn = this._handleOutsideClick.bind(this);\n\n    this._dialog.addEventListener('click', this._outsideClickFn);\n\n    requestAnimationFrame(() => {\n      this.isOpen = true;\n\n      this._positionMenu();\n    });\n  }\n\n  /**\n   * Close dropdown\n   */\n  @Method()\n  async close() {\n    this._dialog.close();\n\n    this.isOpen = false;\n\n    this._inputElement.slot = 'default';\n\n    this._inputElement.hideDetails = this._hideDetails;\n\n    this._dummyElement.style.width = '0';\n    this._dummyElement.style.display = 'none';\n    this._dialog.style.width = '0';\n\n    window.removeEventListener('click', this._outsideClickFn);\n  }\n\n  private _setIsMobile() {\n    this._isMobile = window.matchMedia(\n      'only screen and (max-width: 760px)',\n    ).matches;\n  }\n\n  private _isOpening = false;\n\n  private _handleOpen() {\n    this._isOpening = true;\n\n    setTimeout(() => {\n      this._isOpening = false;\n    }, 500);\n  }\n\n  private _disableScroll() {\n    document.body.style.overflow = 'hidden';\n  }\n\n  private _enableScroll() {\n    if (\n      this._originalOverflowValue &&\n      this._originalOverflowValue !== 'visible'\n    ) {\n      document.body.style.overflow = this._originalOverflowValue;\n\n      return;\n    }\n\n    document.body.style.removeProperty('overflow');\n  }\n\n  componentDidLoad() {\n    this._setIsMobile();\n\n    this._hideDetails = this.parent.hideDetails;\n\n    this._inputElement = this.el.querySelector('c-input');\n\n    this._resizeObserver = new ResizeObserver((entries) => {\n      if (!this._dialog.open) return;\n\n      requestAnimationFrame(() => {\n        if (!Array.isArray(entries) || !entries.length || this._isOpening)\n          return;\n\n        this._setIsMobile();\n\n        this.close();\n      });\n    });\n\n    this._resizeObserver.observe(window.document.body);\n\n    requestAnimationFrame(() => {\n      this.renderedList = this._renderList();\n    });\n  }\n\n  /**\n   * Select item\n   * @returns the disabled status of the input\n   */\n  @Method()\n  async selectItem(index: number) {\n    const item = this._listItems[index];\n\n    if (item.classList.contains('disabled')) {\n      return true;\n    }\n\n    this._listItems[index].click();\n\n    return false;\n  }\n\n  /**\n   * Update list items\n   */\n  @Method()\n  async updateList() {\n    requestAnimationFrame(() => {\n      this.renderedList = this._renderList();\n    });\n  }\n\n  private _handleOutsideClick() {\n    if (!this.isOpen) return;\n\n    this.close();\n  }\n\n  private _inputSize = {\n    height: 0,\n    width: 0,\n  };\n\n  private _openedOnTop = false;\n\n  private _hideDetails = false;\n\n  private _highlightMatchingText(value: string) {\n    const { query } = this.parent as HTMLCAutocompleteElement;\n\n    if (this.parent.tagName === 'C-SELECT' || query === '') return value;\n\n    const regex = new RegExp(query, 'gi');\n\n    const highlighted = value\n      .replace(/(<([^>]+)>)/gi, '')\n      .replace(regex, (match) => `<mark>${match}</mark>`);\n\n    return highlighted;\n  }\n\n  private _getParentPosition() {\n    return this.parent.shadowRoot\n      .querySelector('.c-input__slot')\n      .getBoundingClientRect();\n  }\n\n  private _positionMenu() {\n    const { innerWidth, innerHeight } = window;\n\n    this._dialog.style.width = 'auto';\n    this._dialog.style.opacity = '0';\n\n    this._dialog.showModal();\n\n    requestAnimationFrame(() => {\n      let inputSlot = 'input-top';\n\n      const { top: parentTop, width } = this._getParentPosition();\n\n      const inputSize = this.el.getBoundingClientRect();\n\n      this._inputSize = {\n        height: inputSize.height,\n        width: inputSize.width,\n      };\n\n      if (!this._isMobile) {\n        this._dialog.style.width = `${width}px`;\n        this._dialog.style.top = `${inputSize.top}px`;\n        this._dialog.style.bottom = 'auto';\n        this._dialog.style.left = `${inputSize.left}px`;\n\n        const { bottom, right, height } = this._dialog.getBoundingClientRect();\n\n        const isInView = {\n          x: right < innerWidth,\n          y: bottom < innerHeight,\n        };\n\n        const fitsOnTop = parentTop - height > 0;\n\n        if (!fitsOnTop && !isInView.y) {\n          this._dialog.style.maxHeight = `${parentTop}px`;\n        }\n\n        if (!isInView.y || this._openedOnTop) {\n          this._openedOnTop = true;\n\n          this._inputElement.hideDetails = true;\n          inputSlot = 'input-bottom';\n\n          this._dialog.style.top = 'auto';\n          this._dialog.style.bottom = `${innerHeight - inputSize.top - 44}px`;\n        }\n      }\n\n      this._dummyElement.style.width = `${this._getParentPosition().width}px`;\n      this._dummyElement.style.height = `${this._inputSize.height}px`;\n      this._dummyElement.style.display = 'block';\n      this._dummyElement.slot = 'default';\n\n      this._inputElement.slot = inputSlot;\n\n      this._inputElement.hideDetails = true;\n\n      this._dialog.style.opacity = '1';\n\n      const input = this.parent.shadowRoot.querySelector('input');\n\n      input.focus();\n    });\n  }\n\n  private _minimumQueryItem() {\n    const { query, loading, minimumQueryLength, minimumQueryLengthMessage } =\n      this.parent as HTMLCAutocompleteElement;\n\n    if (query.length > minimumQueryLength || loading) return;\n\n    return (\n      <li>\n        <c-icon\n          path={mdiInformation}\n          size={18}\n          color=\"var(--c-info-600)\"\n        ></c-icon>\n        {minimumQueryLengthMessage.replace(\n          '{n}',\n          minimumQueryLength.toString(),\n        )}\n      </li>\n    );\n  }\n\n  private _emptyItem() {\n    const { query, loading, noMatchingItemsMessage } = this\n      .parent as HTMLCAutocompleteElement;\n\n    if (!query || loading) return;\n\n    return (\n      <li>\n        <c-icon path={mdiAlert} size={18} color=\"var(--c-warning-600)\"></c-icon>\n        {noMatchingItemsMessage}\n      </li>\n    );\n  }\n\n  private _renderList() {\n    return this.itemType === 'option'\n      ? this._renderOptionsList()\n      : this._renderItemsList();\n  }\n\n  private _renderOptionsList() {\n    if (!this.items.length)\n      return this._minimumQueryItem() || this._emptyItem();\n\n    const options = Array.from(this.items) as HTMLCOptionElement[];\n\n    this._listItems.length = 0;\n\n    return options.map((option, index) => {\n      const optionValue = option.querySelector('c-option-value');\n\n      if (optionValue) {\n        optionValue.innerHTML = this._highlightMatchingText(\n          optionValue.textContent,\n        );\n      }\n\n      return (\n        <li\n          ref={(el) => this._listItems.push(el)}\n          id={`${this.hostId}-option-${option.value}`}\n          tabindex=\"-1\"\n          role=\"option\"\n          aria-set-size={this.items.length.toString()}\n          aria-pos-in-set={(index + 1).toString()}\n          aria-selected={(!!option.selected).toString()}\n          class={{ disabled: !!option.disabled }}\n          data-name={option.name}\n          onClick={(event) => {\n            if (option.disabled) {\n              event.preventDefault();\n\n              return;\n            }\n\n            this.selectOption.emit({ name: option.name, value: option.value });\n          }}\n          innerHTML={option.outerHTML}\n        ></li>\n      );\n    });\n  }\n\n  private _renderItemsList() {\n    if (!this.items.length)\n      return this._minimumQueryItem() || this._emptyItem();\n\n    this._listItems.length = 0;\n\n    return (this.items as unknown as CAutocompleteItem[]).map((item, index) => {\n      return (\n        <li\n          ref={(el) => this._listItems.push(el)}\n          id={`${this.hostId}-option-${item.value}`}\n          tabindex=\"-1\"\n          role=\"option\"\n          aria-set-size={this.items.length.toString()}\n          aria-pos-in-set={(index + 1).toString()}\n          aria-selected={(this.index === index).toString()}\n          class={{ disabled: !!item.disabled }}\n          data-name={item.name}\n          onClick={(event) => {\n            if (item.disabled) {\n              event.preventDefault();\n\n              return;\n            }\n\n            this.selectOption.emit({ name: item.name, value: item.value });\n          }}\n        >\n          <span innerHTML={this._highlightMatchingText(item.name)}></span>\n        </li>\n      );\n    });\n  }\n\n  private _updateStatusText() {\n    if (this._debounce !== null) {\n      clearTimeout(this._debounce);\n      this._debounce = null;\n    }\n\n    this._debounce = window.setTimeout(() => {\n      const selection = this._listItems[this.index];\n\n      const ending = !!this.items.length\n        ? ', to navigate use up and down arrows'\n        : '';\n\n      const total = this._listItems.length;\n\n      const position = this.index + 1;\n\n      const isDisabled = !!selection?.classList?.contains('disabled');\n\n      const beginning = isDisabled ? 'Disabled option - ' : '';\n\n      let selectionText = !!selection\n        ? `${beginning}${selection.dataset.name} -  ${position} of ${total} is highlighted`\n        : null;\n\n      if (this.index === null && this.type === 'autocomplete') {\n        selectionText = this.items.length\n          ? `${this.items.length} result${\n              this.items.length !== 1 ? 's' : ''\n            } available`\n          : 'No search results available';\n      }\n\n      this.statusText = `${selectionText || ending}`;\n\n      this._debounce = null;\n    }, 1400);\n  }\n\n  render() {\n    if (\n      !this._isMobile &&\n      this._dialog &&\n      this.itemsPerPage &&\n      this.itemsPerPage > 0 &&\n      this.items.length > this.itemsPerPage\n    ) {\n      this._dialog.style.maxHeight = 42 * (this.itemsPerPage + 0.5) + 60 + 'px';\n      this._list.style.maxHeight = 42 * (this.itemsPerPage + 0.5) + 'px';\n    }\n\n    return (\n      <Host>\n        <slot name=\"default\"></slot>\n\n        <div class=\"dummy\" ref={(el) => (this._dummyElement = el)}></div>\n\n        <dialog\n          tabindex=\"-1\"\n          ref={(el) => (this._dialog = el)}\n          class={{ mobile: this._isMobile }}\n          onCancel={() => this.close()}\n        >\n          <div onClick={(event) => event.stopPropagation()}>\n            <div\n              id={'announce-' + this.hostId}\n              class=\"visuallyhidden\"\n              aria-live=\"polite\"\n              aria-atomic=\"true\"\n            >\n              {this.statusText}\n            </div>\n\n            <div class=\"input-top-wrapper\">\n              <slot name=\"input-top\"></slot>\n            </div>\n\n            <ul\n              ref={(el) => (this._list = el)}\n              id={`${this.hostId}--results`}\n              role=\"listbox\"\n              aria-expanded={this.isOpen.toString()}\n              class={{ active: this.isOpen, mobile: this._isMobile }}\n              tabindex=\"-1\"\n            >\n              {this.renderedList}\n            </ul>\n\n            <div\n              class={{\n                active: this._openedOnTop,\n                'input-bottom-wrapper': true,\n              }}\n            >\n              <slot name=\"input-bottom\"></slot>\n            </div>\n          </div>\n        </dialog>\n      </Host>\n    );\n  }\n}\n"]}