{"version":3,"file":"c-side-navigation.js","sourceRoot":"","sources":["../../../../src/components/c-side-navigation/c-side-navigation.tsx"],"names":[],"mappings":"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","sourcesContent":["import { mdiArrowRight } from '@mdi/js';\nimport { Component, Host, h, Prop, Listen, Element } from '@stencil/core';\n/**\n * @group Navigation\n * @slot Default slot - Default slot\n * @slot bottom - Place items at the bottom\n */\n@Component({\n  tag: 'c-side-navigation',\n  styleUrl: 'c-side-navigation.scss',\n  shadow: true,\n})\nexport class CSideNavigation {\n  /**\n   * Mobile version\n   */\n  @Prop() mobile: boolean;\n\n  /**\n   * Mobile version menu visibility\n   */\n  @Prop({ mutable: true }) menuVisible: boolean = false; // eslint-disable-line\n\n  @Element() host: HTMLCSideNavigationElement;\n\n  @Listen('itemChange')\n  handleChange(event: Event) {\n    const slotted = this.host.querySelectorAll('c-side-navigation-item');\n    const target = event.target as HTMLCSideNavigationItemElement;\n    const { active } = target;\n\n    slotted.forEach((item) => {\n      if (item.querySelector('c-sub-navigation-item[slot=\"sub-item\"]')) {\n        item.active = false;\n      }\n    });\n\n    if (target.querySelector('[slot=\"sub-item\"]')) {\n      target.active = !active;\n    } else {\n      target.active = true;\n    }\n  }\n\n  private _assignSubItemSlots() {\n    const subItems = this.host.querySelectorAll('c-sub-navigation-item');\n\n    Array.from(subItems).forEach((item) => {\n      item.setAttribute('slot', 'sub-item');\n    });\n  }\n\n  componentWillLoad() {\n    this._assignSubItemSlots();\n  }\n\n  componentDidLoad() {\n    const el = document.querySelector('body');\n\n    ['click', 'keyup'].forEach((eventType) => {\n      el.addEventListener(eventType, (e: MouseEvent | KeyboardEvent) => {\n        if ((e.target as HTMLElement).matches('c-navigation-button')) {\n          if (eventType === 'click') {\n            this.menuVisible = !this.menuVisible;\n          } else if (e instanceof KeyboardEvent && e.key === 'Enter') {\n            this.menuVisible = !this.menuVisible;\n          }\n        }\n      });\n    });\n  }\n\n  private _closeMenu() {\n    this.menuVisible = false;\n  }\n\n  render() {\n    const classes = {\n      'c-side-navigation': true,\n      'hide-menu': !this.menuVisible,\n      mobile: !!this.mobile,\n      desktop: !this.mobile,\n    };\n\n    const containerClasses = {\n      'c-side-navigation__content': true,\n      'c-side-navigation__content--hidden': !this.menuVisible,\n      'c-side-navigation__content--mobile': !!this.mobile,\n      'c-side-navigation__content--desktop': !this.mobile,\n    };\n\n    return (\n      <Host class={{ desktop: !this.mobile }}>\n        <div class={containerClasses}>\n          {this.mobile && (\n            <div class=\"c-side-navigation__burger\">\n              <c-icon-button inverted text onClick={() => this._closeMenu()}>\n                <span class=\"visuallyhidden\">Close sidemenu</span>\n                <c-icon path={mdiArrowRight}></c-icon>\n              </c-icon-button>\n            </div>\n          )}\n\n          <nav class={classes} role=\"menubar\">\n            <slot></slot>\n\n            <div class=\"vertical-spacer\"></div>\n\n            <slot name=\"bottom\"></slot>\n          </nav>\n        </div>\n\n        {this.menuVisible && this.mobile && (\n          <div\n            class=\"c-overlay c-fade-in\"\n            onClick={() => this._closeMenu()}\n          ></div>\n        )}\n      </Host>\n    );\n  }\n}\n"]}