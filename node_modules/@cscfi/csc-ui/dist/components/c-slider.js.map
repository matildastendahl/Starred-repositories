{"file":"c-slider.js","mappings":"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","names":["CSlider"],"sources":["src/components/c-slider/c-slider.scss?tag=c-slider&encapsulation=shadow","src/components/c-slider/c-slider.tsx"],"sourcesContent":[":host(c-slider) {\n  /**\n   * @prop --c-slider-background-color-active-disabled: Active disabled slider background color\n   * @prop --c-slider-background-color-active: Slider active background color\n   * @prop --c-slider-background-color-disabled: Disabled slider background color\n   * @prop --c-slider-background-color: Slider background color\n   * @prop --c-slider-thumb-background-color-disabled: Disabled slider thumb background color\n   * @prop --c-slider-thumb-background-color-hover: Slider thumb background color on hover\n   * @prop --c-slider-thumb-background-color: Slider thumb background color\n   * @prop --c-slider-tick-color-active: Slider active tick color\n   * @prop --c-slider-tick-color: Slider tick color\n   * @prop --c-slider-tooltip-background-color: Slider tooltip background color\n   * @prop --c-slider-tooltip-text-color: Slider tooltip text color\n   */\n  --_c-slider-background-color-active-disabled: var(--c-slider-background-color-active-disabled, var(--c-tertiary-400));\n  --_c-slider-background-color-active: var(--c-slider-background-color-active, var(--c-primary-500));\n  --_c-slider-background-color-disabled: var(--c-slider-background-color-disabled, rgba(var(--c-tertiary-rgb), 0.2));\n  --_c-slider-background-color: var(--c-slider-background-color, rgba(var(--c-tertiary-rgb), 0.2));\n  --_c-slider-thumb-background-color-disabled: var(--c-slider-thumb-background-color-disabled, var(--c-tertiary-500));\n  --_c-slider-thumb-background-color-hover: var(--c-slider-thumb-background-color-hover, rgba(var(--c-primary-rgb), 0.2));\n  --_c-slider-thumb-background-color: var(--c-slider-thumb-background-color, var(--c-primary-600));\n  --_c-slider-tick-color-active: var(--c-slider-tick-color-active, var(--c-white));\n  --_c-slider-tick-color: var(--c-slider-tick-color, var(--c-tertiary-500));\n  --_c-slider-tooltip-background-color: var(--c-slider-tooltip-background-color, var(--c-primary-900));\n  --_c-slider-tooltip-text-color: var(--c-slider-tooltip-text-color, var(--c-white));\n  \n  // private\n  --_c-slider-outline: none;\n  --_c-slider-thumb-scale: 1;\n  --_c-slider-thumb-shadow-size: 8px;\n  --_c-slider-tooltip-opacity: 0;\n  --_c-slider-tooltip-y: -4px;\n\n  $this: &;\n\n  display: block;\n  isolation: isolate;\n  padding-block: 8px;\n\n  .c-slider__label {\n    display: block;\n    margin-bottom: 16px;\n    margin-top: -8px;\n\n    span.required {\n      color: var(--c-error-600);\n    }\n  }\n\n  .c-slider__wrapper {\n    padding-inline: 10px;\n    position: relative;\n\n    /** Mozilla Firefox */\n    @-moz-document url-prefix() {\n      padding-inline: 0;\n    }\n  }\n  \n  input[type=\"range\"] {\n    align-items: center;\n    appearance: none;\n    background-color: transparent;\n    display: flex;\n    height: 8px;\n    margin: 0;\n    position: relative;\n    width: 100%;\n\n    &:focus-visible {\n      --_c-slider-outline: 2px var(--_c-slider-thumb-background-color) solid;\n      \n      outline: none;\n    }\n\n    &::-webkit-slider-runnable-track {\n      width: calc(100% - 20px);\n      margin: 0 -20px;\n    }\n\n    &:active {\n      --_c-slider-thumb-scale: 1.33;\n      --_c-slider-thumb-shadow-size: 0;\n    }\n    \n    &::-webkit-slider-container {\n      display: flex;\n      padding: 0 10px;\n    }\n  \n    &::-webkit-slider-thumb {\n      appearance: none;\n      background-color: var(--_c-slider-thumb-background-color);\n      border-radius: 100%;\n      cursor: pointer;\n      height: 24px;\n      outline-offset: 4px;\n      outline: var(--_c-slider-outline);\n      position: relative;\n      transform-origin: center;\n      transform: scale(var(--_c-slider-thumb-scale));\n      transition:\n        box-shadow .3s cubic-bezier(0.075, 0.82, 0.165, 1),\n        transform .3s cubic-bezier(0.075, 0.82, 0.165, 1);\n      width: 24px;\n      z-index: 1;\n        \n      &:hover {\n        box-shadow: 0 0 0 var(--_c-slider-thumb-shadow-size) var(--_c-slider-thumb-background-color-hover);\n      }\n    }\n\n    &[disabled] {\n      --_c-slider-background-color: var(--_c-slider-background-color-disabled);\n      --_c-slider-background-color-active: var(--_c-slider-background-color-active-disabled);\n      --_c-slider-thumb-background-color: var(--_c-slider-thumb-background-color-disabled);\n\n      pointer-events: none;\n    }\n  }\n\n  /** Mozilla Firefox */\n  @-moz-document url-prefix() {\n    input[type=\"range\"]::-moz-range-thumb {\n      appearance: none;\n      background-color: var(--_c-slider-thumb-background-color);\n      border-radius: 100%;\n      border: 0;\n      cursor: pointer;\n      height: 24px;\n      outline-offset: 2px;\n      outline: var(--_c-slider-outline);\n      position: relative;\n      transform-origin: center;\n      transform: scale(var(--_c-slider-thumb-scale));\n      transition:\n        box-shadow .3s cubic-bezier(0.075, 0.82, 0.165, 1),\n        transform .3s cubic-bezier(0.075, 0.82, 0.165, 1);\n      width: 24px;\n      z-index: 1;\n        \n      &:hover {\n        box-shadow: 0 0 0 var(--_c-slider-thumb-shadow-size) var(--_c-slider-thumb-background-color-hover);\n      }\n    }\n  }\n\n  // tooltip\n  .c-slider__tooltip-wrapper {\n    height: 0;\n    margin-inline: 2px;\n    position: relative;\n    \n    /** Mozilla Firefox */\n    @-moz-document url-prefix() {\n      margin-inline: 12px;\n    }\n\n    span {\n      align-items: center;\n      border-radius: 50%;\n      box-sizing: border-box;\n      display: inline-flex;\n      height: 24px;\n      justify-content: center;\n      left: calc(1% * var(--_c-slider-position));\n      opacity: var(--_c-slider-tooltip-opacity);\n      pointer-events: none;\n      position: absolute;\n      transform: translate(-50%, var(--_c-slider-tooltip-y));\n      transition:\n        opacity .3s cubic-bezier(0.075, 0.82, 0.165, 1),\n        transform .3s cubic-bezier(0.075, 0.82, 0.165, 1);\n      width: 24px;\n\n      &::before {\n        align-items: center;\n        background: var(--_c-slider-tooltip-background-color);\n        border-radius: 4px;\n        bottom: 100%;\n        color: var(--_c-slider-tooltip-text-color);\n        content: attr(data-tooltip);\n        display: inline-flex;\n        flex-wrap: nowrap;\n        height: 30px;\n        padding: 6px;\n        position: absolute;\n        top: -42px;\n        white-space: nowrap;\n      }\n\n      &::after {\n        border-left: 6px solid transparent;\n        border-right: 6px solid transparent;\n        border-top: 6px solid var(--_c-slider-tooltip-background-color);\n        content: \"\";\n        height: 0;\n        left: 50%;\n        margin: -42px 0 0 -6px;\n        position: absolute;\n        width: 0;\n      }\n    }\n  }\n\n  .c-slider__ticks {\n    --c-slider-tick-color: var(--c-tertiary-400);\n\n    align-items: center;\n    background: linear-gradient(\n      to right,\n      var(--_c-slider-background-color-active) calc(1% * var(--_c-slider-position)),\n      var(--_c-slider-background-color) calc(1% * var(--_c-slider-position)),\n    );\n    border-radius: 100vw;\n    display: flex;\n    height: 8px;\n    justify-content: space-between;\n    margin: -8px auto 0;\n    pointer-events: none;\n    position: relative;\n    width: calc(100% - 16px);\n    z-index: -1;\n\n    /** Mozilla Firefox */\n    @-moz-document url-prefix() {\n      width: calc(100% - 20px);\n    }\n\n    &--disabled {\n      --_c-slider-background-color-active: var(--_c-slider-background-color-active-disabled);\n    }\n\n    span {\n      border-radius: 50%;\n      font-size: 12px;\n      height: 4px;\n      padding: 0;\n      position: relative;\n      width: 4px;\n      \n      \n      &.ticks {\n        background-color: var(--_c-slider-tick-color);\n\n        &.active {\n          background-color: var(--_c-slider-tick-color-active);\n        }\n\n        &:first-child,\n        &:last-child {\n          background-color: transparent;\n        }\n      }\n\n      &.labels {\n        &::after {\n          content: attr(data-value);\n          left: 2px;\n          position: absolute;\n          top: 16px;\n          transform: translate(-50%);\n        }\n      }\n    }\n  }\n}\n\n:host(c-slider.c-slider--labels) {\n  padding-bottom: 24px;\n}\n\n:host(c-slider:focus-within),\n:host(c-slider:hover) {\n  --_c-slider-tooltip-opacity: 1;\n  --_c-slider-tooltip-y: -8px;\n}\n","import {\n  Component,\n  Event,\n  EventEmitter,\n  Host,\n  Prop,\n  State,\n  Watch,\n  h,\n} from '@stencil/core';\n\n/**\n * @group Form\n */\n@Component({\n  tag: 'c-slider',\n  styleUrl: 'c-slider.scss',\n  shadow: true,\n})\nexport class CSlider {\n  /**\n   * Id of the element\n   */\n  @Prop({ attribute: 'id' }) hostId: string;\n\n  /**\n   * Id of the element\n   */\n  @Prop({ attribute: 'name' }) hostName: string;\n\n  /**\n   * Aria label\n   */\n  @Prop({ attribute: 'aria-label' }) ariaLabel: string;\n\n  /**\n   * Max value\n   */\n  @Prop() max = '100';\n\n  /**\n   * Min value\n   */\n  @Prop() min = '0';\n\n  /**\n   * Step\n   */\n  @Prop() step = '1';\n\n  /**\n   * Value\n   */\n  @Prop() value: string | number = '50';\n\n  /**\n   * Unit\n   */\n  @Prop() unit = '%';\n\n  /**\n   * Thow ticks\n   */\n  @Prop() ticks = false;\n\n  /**\n   * Show tick labels\n   */\n  @Prop() labels = false;\n\n  /**\n   * Disable tooltip\n   */\n  @Prop() disableTooltip = false;\n\n  /**\n   * Label of the slider\n   */\n  @Prop() label: string;\n\n  /**\n   * Disable the slider\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Segment count\n   */\n  @Prop() segments = '10';\n\n  /**\n   * Emit value changes to parent\n   */\n  @Event({ bubbles: false }) changeValue: EventEmitter;\n\n  @State() trackPosition: number;\n\n  @State() tickPositions: string[] = [];\n\n  private static _uniqueId = 0;\n\n  private _inputElement: HTMLInputElement;\n\n  @Watch('segments')\n  onSegmentChange() {\n    this._calculateTickPositions();\n  }\n\n  @Watch('value')\n  onValueChange(value) {\n    this._calculateTrackPosition();\n\n    requestAnimationFrame(() => {\n      this._inputElement.value = value.toString();\n    });\n  }\n\n  private _formatNumber(number: number, decimals = 0) {\n    return new Intl.NumberFormat('fi-FI', {\n      maximumFractionDigits: decimals,\n      minimumFractionDigits: decimals,\n    }).format(number);\n  }\n\n  private _calculateTickPositions() {\n    this.tickPositions = [...new Array(+this.segments + 1)].map((_, index) => {\n      const fraction = +this.max / +this.segments;\n\n      return (index * fraction).toString();\n    });\n  }\n\n  private _calculateTrackPosition() {\n    this.trackPosition =\n      ((+this.value - +this.min) / (+this.max - +this.min)) * 100;\n  }\n\n  private _onInput(event: Event) {\n    const { value } = event.target as HTMLInputElement;\n\n    this.changeValue.emit(typeof this.value === 'number' ? +value : value);\n\n    this._calculateTrackPosition();\n  }\n\n  private _isActive(value: number) {\n    return this.trackPosition >= (100 / +this.max) * value;\n  }\n\n  componentWillLoad() {\n    CSlider._uniqueId += 1;\n  }\n\n  componentDidLoad() {\n    this._calculateTrackPosition();\n\n    this._calculateTickPositions();\n\n    requestAnimationFrame(() => {\n      this._inputElement.value = this.value.toString();\n    });\n  }\n\n  render() {\n    const classes = {\n      'c-slider': true,\n      'c-slider--labels': this.labels,\n    };\n\n    const styles = {\n      '--_c-slider-position': `${this.trackPosition}`,\n    };\n\n    return (\n      <Host class={classes} style={styles}>\n        {!!this.label && (\n          <label class=\"c-slider__label\">{!!this.label && this.label}</label>\n        )}\n\n        <div class=\"c-slider__wrapper\">\n          {!this.disableTooltip && (\n            <div class=\"c-slider__tooltip-wrapper\" aria-hidden=\"true\">\n              <span\n                data-tooltip={`${this._formatNumber(+this.value)}${this.unit}`}\n              ></span>\n            </div>\n          )}\n\n          <input\n            ref={(el) => (this._inputElement = el)}\n            aria-label={this.ariaLabel || this.label}\n            aria-valuenow={this.value}\n            aria-valuetext={`${this.value}${this.unit}`}\n            aria-valuemin={this.min}\n            aria-valuemax={this.max}\n            type=\"range\"\n            name={this.hostName}\n            id={this.hostId || `c-slider__${CSlider._uniqueId}`}\n            min={this.min}\n            max={this.max}\n            step={this.step}\n            disabled={this.disabled}\n            onInput={(event) => this._onInput(event)}\n          />\n        </div>\n\n        <div\n          class={{\n            'c-slider__ticks': true,\n            'c-slider__ticks--disabled': this.disabled,\n          }}\n          aria-hidden=\"true\"\n        >\n          {this.tickPositions.map((position) => (\n            <span\n              class={{\n                active: this._isActive(Math.round(+position)),\n                ticks: this.ticks,\n                labels: this.labels,\n              }}\n              data-value={this._formatNumber(Math.round(+position))}\n            ></span>\n          ))}\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}