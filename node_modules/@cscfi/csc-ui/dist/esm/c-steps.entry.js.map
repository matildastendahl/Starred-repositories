{"file":"c-steps.entry.js","mappings":"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","names":[],"sources":["src/components/c-steps/c-steps.scss?tag=c-steps&encapsulation=shadow","src/components/c-steps/c-steps.tsx"],"sourcesContent":[":host {\n  /**\n   * @prop --c-steps-outline-color: Steps outline color\n   */\n  --_c-steps-outline-color: var(--c-steps-outline-color, var(--c-primary-600));\n\n  // private\n  --_c-steps-color: var(--c-step-color, var(--c-tertiary-500));\n  --_c-steps-color-complete: var(--c-step-color-complete, var(--c-primary-600));\n\n  width: 100%;\n  display: grid;\n  gap: 8px;\n  border-radius: 6px;\n}\n\n@supports selector(:focus-visible) {\n  :host(:focus) {\n    outline: none;\n  }\n}\n\n:host(:focus-visible) {\n  outline: 2px var(--_c-steps-outline-color) solid;\n  outline-offset: 2px;\n}\n\n.c-steps {\n  --c-steps-divider-width: calc(100% + 160px);\n  --c-steps-divider-margin: 10px -80px 0;\n\n  width: 100%;\n  display: flex;\n  flex-wrap: nowrap;\n\n  slot {\n    display: flex;\n    justify-items: space-between;\n    width: 100%;\n  }\n\n  ::slotted(.divider) {\n    height: 2px;\n    flex: 1;\n    background-color: var(--_c-steps-color);\n    width: var(--c-steps-divider-width);\n    margin: var(--c-steps-divider-margin);\n  }\n\n  ::slotted(.divider.complete) {\n    background-color: var(--_c-steps-color-complete);\n    height: 4px;\n    margin-top: 9px;\n  }\n\n  &.mobile {\n    --c-steps-divider-width: calc(100% + 11px);\n    --c-steps-divider-margin: 10px -10px 0;\n  }\n}\n\n.visuallyhidden {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n}\n","import {\n  Component,\n  Host,\n  h,\n  Prop,\n  EventEmitter,\n  Event,\n  Element,\n  Watch,\n  State,\n} from '@stencil/core';\n\n/**\n * @group Indicators\n * @slot Default slot - Default slot\n */\n@Component({\n  tag: 'c-steps',\n  styleUrl: 'c-steps.scss',\n  shadow: true,\n})\nexport class CSteps {\n  @Element() host: HTMLCStepsElement;\n\n  /**\n   * Value of the accordion (current step number)\n   */\n  @Prop() value!: number | string;\n\n  /**\n   * Emit changes to the parent\n   */\n  @Event({ bubbles: false }) changeValue: EventEmitter<number | string>;\n\n  @State() isMobile = false;\n\n  @State() label = '';\n\n  @Watch('value')\n  watchPropHandler() {\n    this._handleDividers();\n  }\n\n  private _isInitialized = false;\n\n  private _resizeObserver: ResizeObserver;\n\n  private _stepElements: NodeListOf<HTMLCStepElement>;\n\n  private _handleDividers() {\n    this._stepElements = this.host.querySelectorAll('c-step');\n    const dividers: NodeListOf<HTMLDivElement> =\n      this.host.querySelectorAll('.divider');\n\n    this._stepElements.forEach((item, index) => {\n      item.current = index + 1 === +this.value;\n      item.complete = index + 1 < +this.value;\n\n      if (index + 1 < this._stepElements.length) {\n        const div = this._isInitialized\n          ? dividers[index]\n          : document.createElement('div');\n\n        div.classList.toggle('complete', !!item.complete);\n\n        if (!this._isInitialized) {\n          div.classList.add('divider');\n\n          item.after(div);\n        }\n      }\n\n      if (item.current) {\n        this.label = item.textContent;\n      }\n    });\n\n    this._isInitialized = true;\n  }\n\n  componentDidLoad() {\n    this._handleDividers();\n\n    this._resizeObserver = new ResizeObserver(([entry]) => {\n      const maxWidth = this._stepElements.length * 180;\n\n      this.isMobile = maxWidth > entry.contentRect.width;\n\n      this.host.shadowRoot\n        .querySelector('.c-steps')\n        .classList.toggle('mobile', this.isMobile);\n\n      this._stepElements.forEach((node) => {\n        node.classList.toggle('mobile', this.isMobile);\n      });\n    });\n\n    window.requestAnimationFrame(() => {\n      this._resizeObserver.observe(this.host);\n    });\n  }\n\n  private _getA11yMessage(total: number, current: number) {\n    return `\n      Steps, step ${Math.min(current, total)} of ${total}.\n      ${this.label}.\n      ${current - 1} step${current - 1 !== 1 ? 's' : ''} marked as completed.\n    `;\n  }\n\n  render() {\n    return (\n      <Host tabindex=\"0\">\n        {this._stepElements && (\n          <span class=\"visuallyhidden\">\n            {this._getA11yMessage(this._stepElements.length, +this.value)}\n          </span>\n        )}\n        <div class=\"c-steps\" aria-hidden=\"true\">\n          <slot></slot>\n        </div>\n        {this.isMobile && (\n          <div class=\"c-steps__label\" aria-hidden=\"true\">\n            {this.label}\n          </div>\n        )}\n      </Host>\n    );\n  }\n}\n"],"version":3}