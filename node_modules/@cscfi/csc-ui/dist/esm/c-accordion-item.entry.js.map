{"file":"c-accordion-item.entry.js","mappings":"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","names":[],"sources":["src/components/c-accordion-item/c-accordion-item.scss?tag=c-accordion-item&encapsulation=shadow","src/components/c-accordion-item/c-accordion-item.tsx"],"sourcesContent":[":host {\n  /**\n   * @prop --c-accordion-item-header-background-color: Accordion item header background color\n   * @prop --c-accordion-item-outline-color: Accordion item outline color\n   * @prop --c-accordion-item-text-color: Accordion item text color\n   */\n  --_c-accordion-item-header-background-color: var(--c-accordion-item-header-background-color, var(--c-primary-200));\n  --_c-accordion-item-outline-color: var(--c-accordion-item-outline-color, var(--c-primary-600));\n  --_c-accordion-item-text-color: var(--c-accordion-item-text-color, var(--c-primary-600));\n\n  max-width: 100%;\n\n  summary::-webkit-details-marker {\n    display: none;\n  }\n}\n\n.c-accordion-item {\n  $this: &;\n\n  --_c-accordion-item-indicator-rotation: rotate(0deg);\n  --_c-accordion-item-content-height: 0;\n  --_c-accordion-item-min-height: 46px;\n  --_c-accordion-item-border-radius: 6px;\n  --_c-accordion-item-padding: 12px;\n  --_c-accordion-item-overflow: visible;\n  --_c-accordion-item-outline-color-offset: 2px;\n\n  display: block;\n  overflow: var(--_c-accordion-item-overflow);\n\n  &--expanding {\n    --_c-accordion-item-overflow: hidden !important;\n    --_c-accordion-item-outline-color: transparent;\n  }\n\n  &--expanded {\n    --_c-accordion-item-content-height: auto;\n    --_c-accordion-item-indicator-rotation: rotate(90deg);\n    --_c-accordion-item-overflow: visible;\n  }\n\n  &--outlined {\n    box-shadow: inset 0 0 0 2px var(--_c-accordion-item-header-background-color);\n    border-radius: var(--_c-accordion-item-border-radius);\n  }\n\n  &__header {\n    min-height: var(--_c-accordion-item-min-height);\n    user-select: none;\n    background-color: var(--_c-accordion-item-header-background-color);\n    display: grid;\n    column-gap: 8px;\n    align-items: center;\n    padding: 0 var(--_c-accordion-item-padding);\n    border-radius: var(--_c-accordion-item-border-radius);\n    cursor: pointer;\n    grid-template-columns: 1fr auto;\n    border: none;\n    text-align: left;\n    margin: 0;\n    font-family: var(--c-font-family);\n    position: relative;\n\n    &--has-icon {\n      grid-template-columns: auto 1fr auto;\n    }\n\n    &--expanded {\n      cursor: default;\n\n      &#{$this}__header--collapsable {\n        cursor: pointer;\n      }\n    }\n\n    &:focus {\n      outline: 2px var(--_c-accordion-item-outline-color) solid;\n      outline-offset: var(--_c-accordion-item-outline-color-offset);\n    }\n\n    @supports selector(:focus-visible) {\n      &:focus {\n        outline: none;\n      }\n    }\n\n    &:focus-visible {\n      outline: 2px var(--_c-accordion-item-outline-color) solid;\n      outline-offset: var(--_c-accordion-item-outline-color-offset);\n    }\n  }\n\n  &__title {\n    margin-top: 0;\n    margin-bottom: 0;\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 1;\n    color: var(--_c-accordion-item-text-color);\n  }\n\n  &__content {\n    padding: 16px;\n  }\n\n  &__content-wrapper {\n    overflow: visible;\n  }\n\n  &__icon {\n    height: 24px;\n    font-size: 24px;\n    color: var(--_c-accordion-item-text-color);\n    display: flex;\n    align-items: center;\n\n    > * {\n      height: 24px;\n      display: flex;\n      align-items: center;\n    }\n  }\n\n  &__indicator {\n    display: flex;\n    align-items: center;\n    color: var(--_c-accordion-item-text-color);\n    justify-self: end;\n\n    c-icon {\n      width: 24px;\n      height: 24px !important;\n      transform: var(--_c-accordion-item-indicator-rotation);\n      transition: transform 0.3s ease;\n    }\n  }\n}\n","import {\n  Component,\n  h,\n  Prop,\n  Event,\n  EventEmitter,\n  Listen,\n  Element,\n  Host,\n  State,\n} from '@stencil/core';\nimport { mdiChevronRight } from '@mdi/js';\n\n/**\n * @parent c-accordion\n * @slot Default slot - Default slot\n * @slot header - Custom header slot\n */\n@Component({\n  tag: 'c-accordion-item',\n  styleUrl: 'c-accordion-item.scss',\n  shadow: true,\n})\nexport class CAccordionItem {\n  @Element() el: HTMLCAccordionItemElement;\n\n  /**\n   * Marks the item as collapsable\n   * @private\n   */\n  @Prop() collapsable = false;\n\n  /**\n   * Heading of the accordion item\n   */\n  @Prop() heading: string;\n\n  /**\n   * Value of the accordion item\n   */\n  @Prop() value: number | string;\n\n  /**\n   * Expansion status of the item\n   */\n  @Prop() expanded = false;\n\n  /**\n   * Show an outline around the expanded item\n   * @private\n   */\n  @Prop() outlined = false;\n\n  /**\n   * Emit changes to the c-accordion\n   * @private\n   */\n  @Event() itemChange: EventEmitter;\n\n  private _animation: Animation;\n\n  private _accordionElement: HTMLDetailsElement;\n\n  private _accordionHeader: HTMLDetailsElement;\n\n  private _accordionContent: HTMLDivElement;\n\n  private _isCollapsing = false;\n\n  private _isExpanding = false;\n\n  private static _uniqueId = 0;\n\n  @Listen('keydown', { capture: true })\n  handleKeyDown(event: KeyboardEvent) {\n    if (\n      (event.target as HTMLElement).tagName === 'C-ACCORDION-ITEM' &&\n      (event.key === 'Enter' || event.code === 'Space')\n    ) {\n      event.preventDefault();\n\n      this._onToggleAccordion(event);\n    }\n  }\n\n  @Listen('changeValue')\n  stop(event: Event) {\n    event.stopPropagation();\n  }\n\n  private get _collapsedHeight() {\n    const outlineHeight = this.outlined ? 4 : 0;\n\n    return this._accordionHeader.offsetHeight + outlineHeight;\n  }\n\n  private get _expandedHeight() {\n    const outlineHeight = this.outlined ? 4 : 0;\n    const headerHeight = this._accordionHeader.offsetHeight;\n    const contentHeight = this._accordionContent.offsetHeight;\n\n    return headerHeight + contentHeight + outlineHeight;\n  }\n\n  private _onToggleAccordion(e) {\n    e.preventDefault();\n\n    if (!this.collapsable && this.expanded) return;\n\n    this._accordionElement.classList.add('c-accordion-item--expanding');\n\n    if (this._isCollapsing || !this.expanded) {\n      this._expand();\n    } else if (this._isExpanding || this.expanded) {\n      this._collapse();\n    }\n  }\n\n  private _collapse() {\n    this._isCollapsing = true;\n\n    this.expanded = false;\n\n    const startHeight = `${this._accordionElement.offsetHeight}px`;\n\n    const endHeight = `${this._collapsedHeight}px`;\n\n    if (this._animation) {\n      this._animation.cancel();\n    }\n\n    this.itemChange.emit({ value: this.value, expanded: this.expanded });\n\n    this._animation = this._accordionElement.animate(\n      { height: [startHeight, endHeight] },\n      { duration: 300, easing: 'cubic-bezier(0.075, 0.82, 0.165, 1)' },\n    );\n\n    this._animation.onfinish = () => this._onAnimationFinish(false);\n    this._animation.oncancel = () => (this._isCollapsing = false);\n  }\n\n  private _expand() {\n    this._accordionElement.style.height = `${this._accordionElement.offsetHeight}px`;\n\n    this.expanded = true;\n\n    window.requestAnimationFrame(() => {\n      this._isExpanding = true;\n\n      const startHeight = `${this._collapsedHeight}px`;\n\n      const endHeight = `${this._expandedHeight}px`;\n\n      if (this._animation) {\n        this._animation.cancel();\n      }\n\n      this.itemChange.emit({ value: this.value, expanded: this.expanded });\n\n      this._animation = this._accordionElement.animate(\n        { height: [startHeight, endHeight] },\n        { duration: 300, easing: 'cubic-bezier(0.25, 0.8, 0.5, 1)' },\n      );\n\n      this._animation.onfinish = () => this._onAnimationFinish(true);\n      this._animation.oncancel = () => (this._isExpanding = false);\n    });\n  }\n\n  private _onAnimationFinish(isOpen: boolean) {\n    this.expanded = isOpen;\n\n    this._animation = null;\n\n    this._isCollapsing = false;\n\n    this._isExpanding = false;\n\n    this._accordionElement.style.height = '';\n\n    this._accordionElement.classList.remove('c-accordion-item--expanding');\n\n    this.expanded = isOpen;\n  }\n\n  componentWillLoad() {\n    CAccordionItem._uniqueId += 1;\n  }\n\n  @State() hasCustomHeader = false;\n\n  @State() hasIcon = false;\n\n  componentDidLoad() {\n    this.hasCustomHeader = !!this.el.querySelector('[slot=\"header\"]');\n    this.hasIcon = !!this.el.querySelector('[slot=\"icon\"]');\n  }\n\n  render() {\n    const accordionClasses = {\n      'c-accordion-item': true,\n      'c-accordion-item--expanded': this.expanded,\n      'c-accordion-item--outlined': this.outlined,\n    };\n\n    const headerClasses = {\n      'c-accordion-item__header': true,\n      'c-accordion-item__header--collapsable': this.collapsable,\n      'c-accordion-item__header--expanded': this.expanded,\n      'c-accordion-item__header--has-icon': this.hasIcon,\n    };\n\n    const indicatorClasses = {\n      'c-accordion-item__indicator': true,\n      'c-accordion-item__indicator--expanded': this.expanded,\n    };\n\n    return (\n      <Host>\n        <details\n          id={`panel__${CAccordionItem._uniqueId}`}\n          ref={(el) => (this._accordionElement = el as HTMLDetailsElement)}\n          class={accordionClasses}\n          open={!!this.expanded}\n        >\n          <summary\n            ref={(el) => (this._accordionHeader = el as HTMLDetailsElement)}\n            class={headerClasses}\n            onClick={(event) => this._onToggleAccordion(event)}\n          >\n            {this.hasIcon && (\n              <div class=\"c-accordion-item__icon\" aria-visible=\"hidden\">\n                <slot name=\"icon\"></slot>\n              </div>\n            )}\n\n            {this.hasCustomHeader && <slot name=\"header\"></slot>}\n\n            {!this.hasCustomHeader && (\n              <div class=\"c-accordion-item__title\">{this.heading}</div>\n            )}\n\n            <div class={indicatorClasses}>\n              <c-icon\n                path={mdiChevronRight}\n                class={{ expanded: this.expanded }}\n              ></c-icon>\n            </div>\n          </summary>\n\n          <div\n            ref={(el) => (this._accordionContent = el as HTMLDivElement)}\n            class=\"c-accordion-item__content-wrapper\"\n          >\n            <div\n              class=\"c-accordion-item__content\"\n              role=\"region\"\n              aria-labelledby={`header__${CAccordionItem._uniqueId}`}\n            >\n              <slot></slot>\n            </div>\n          </div>\n        </details>\n      </Host>\n    );\n  }\n}\n"],"version":3}