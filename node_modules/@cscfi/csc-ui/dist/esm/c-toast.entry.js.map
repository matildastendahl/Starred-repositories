{"file":"c-toast.entry.js","mappings":"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","names":[],"sources":["src/components/c-toast/c-toast.scss?tag=c-toast&encapsulation=shadow","src/components/c-toast/c-toast.tsx"],"sourcesContent":[":host(c-toast) {\n  /**\n   * @prop --c-toast-background-color: Toast background color\n   * @prop --c-toast-text-color: Toast text color\n   */\n  --_c-toast-background-color: var(--c-toast-background-color, var(--c-white));\n  --_c-toast-text-color: var(--c-toast-text-color, var(--c-text-system));\n\n  // private\n  --_c-toast-animation-state: running;\n\n  align-items: center;\n  background-color: var(--_c-toast-background-color);\n  border-radius: 6px;\n  border: 2px solid var(--_c-toast-color);\n  border-left-width: 12px;\n  box-shadow:\n    rgba(0, 0, 0, 0.07) 0 1px 1px, rgba(0, 0, 0, 0.07) 0 2px 2px,\n    rgba(0, 0, 0, 0.07) 0 4px 4px, rgba(0, 0, 0, 0.07) 0 8px 8px,\n    rgba(0, 0, 0, 0.07) 0 16px 16px;\n  box-sizing: border-box;\n  color: var(--_c-toast-text-color);\n  display: grid;\n  min-height: 52px;\n  opacity: 0;\n  padding: 8px 12px;\n  pointer-events: all;\n  text-align: left;\n  transform: translateY(20px);\n  transition: opacity 0.5s ease, transform 0.5s ease;\n  width: 100%;\n  will-change: opacity, transform;\n  z-index: 10001;\n  position: relative;\n}\n\n:host(.show) {\n  opacity: 1;\n  transform: translateY(0);\n}\n\n:host(.info) {\n  --_c-toast-color: var(--c-info-600);\n}\n\n:host(.error) {\n  --_c-toast-color: var(--c-error-600);\n}\n\n:host(.warning) {\n  --_c-toast-color: var(--c-warning-600);\n}\n\n:host(.success) {\n  --_c-toast-color: var(--c-success-600);\n}\n\n.c-toast__content p {\n  margin: 0;\n  font-weight: 600;\n}\n\n.c-toast__item {\n  align-items: center;\n  display: grid;\n  gap: 12px;\n  grid-auto-columns: auto;\n  grid-auto-flow: column;\n  grid-template-columns: 24px 1fr;\n  font-weight: 300;\n}\n\n.c-toast__item > svg {\n  fill: var(--_c-toast-color);\n}\n\n.c-toast__item svg {\n  height: 24px;\n  width: 24px;\n}\n\n.c-toast__progress {\n  background-color: var(--c-tertiary-200);\n  border-radius: 8px;\n  height: 6px;\n  margin-top: 8px;\n  overflow: hidden;\n  transform: translateZ(0);\n}\n\n:host(:hover) {\n  --_c-toast-animation-state: paused;\n}\n\n.c-toast__progress__bar {\n  animation-duration: var(--_c-toast-duration);\n  animation-fill-mode: forwards;\n  animation-iteration-count: 1;\n  animation-name: timer;\n  animation-play-state: var(--_c-toast-animation-state);\n  animation-timing-function: linear;\n  background-color: var(--_c-toast-color);\n  border-radius: 8px;\n  height: 6px;\n  width: 100%;\n}\n\n.c-toast__progress__bar.indeterminate {\n  animation: indeterminate 2s infinite linear;\n  left: -100%;\n  width: 50%;\n  position: relative;\n  transform-origin: 0% 50%;\n}\n\n.visuallyhidden {\n  border: 0;\n  clip: rect(1px, 1px, 1px, 1px);\n  height: 1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n@keyframes timer {\n  100% {\n    transform: translateX(-100%);\n  }\n}\n\n@keyframes indeterminate {\n  0% {\n    transform: translateX(100%) scaleX(1);\n  }\n\n  30% {\n    transform: translateX(170%) scaleX(1.75);\n  }\n\n  70% {\n    transform: translateX(500%) scaleX(0.1);\n  }\n\n  100% {\n    transform: translateX(500%) scaleX(0.1);\n  }\n}\n","import {\n  Component,\n  Host,\n  h,\n  Prop,\n  EventEmitter,\n  Event,\n  Element,\n  Method,\n} from '@stencil/core';\n\nimport {\n  mdiClose,\n  mdiAlert,\n  mdiCloseCircle,\n  mdiCheckCircle,\n  mdiInformation,\n} from '@mdi/js';\n\nimport { CToastMessage } from '../../types';\n\n/**\n * @parent none\n */\n@Component({\n  tag: 'c-toast',\n  styleUrl: 'c-toast.scss',\n  shadow: true,\n})\nexport class CToast {\n  @Element() el: HTMLCToastElement;\n\n  /**\n   * Messages\n   */\n  @Prop() message: CToastMessage;\n\n  /**\n   * Emit inner value change to parent\n   */\n  @Event() close: EventEmitter<CToastMessage>;\n\n  private _closed = false;\n\n  private _startTime: number;\n\n  private _remainingTime: number;\n\n  private _icons = {\n    close: mdiClose,\n    warning: mdiAlert,\n    error: mdiCloseCircle,\n    success: mdiCheckCircle,\n    info: mdiInformation,\n  };\n\n  private _timeout;\n\n  /**\n   * Close toast\n   *\n   * @emits close\n   */\n  @Method()\n  async closeToast() {\n    if (this._closed) return;\n\n    this._closed = true;\n\n    this.el.classList.remove('show');\n    this.el.ontransitionend = () => this.close.emit(this.message);\n  }\n\n  componentDidLoad() {\n    window.requestAnimationFrame(() => {\n      this.el.classList.add('show');\n    });\n\n    if (this.message.persistent || this.message.indeterminate) return;\n\n    this._startTime = Date.now();\n    this._remainingTime = this.message.duration;\n\n    this._timeout = window.setTimeout(\n      () => this.closeToast(),\n      +this.message.duration,\n    );\n  }\n\n  disconnectedCallback() {\n    window.clearTimeout(this._timeout);\n  }\n\n  private _onMouseEnter() {\n    if (this.message.persistent || this.message.indeterminate) return;\n\n    this._remainingTime = this._remainingTime - (Date.now() - this._startTime);\n\n    window.clearTimeout(this._timeout);\n  }\n\n  private _onMouseLeave() {\n    if (this.message.persistent || this.message.indeterminate) return;\n\n    this._startTime = Date.now();\n    this._timeout = window.setTimeout(\n      () => this.closeToast(),\n      this._remainingTime,\n    );\n  }\n\n  private _renderCloseButton() {\n    const Tag = !!this.message.closeText ? 'c-button' : 'c-icon-button';\n\n    return (\n      <Tag\n        aria-label=\"close\"\n        size=\"small\"\n        text\n        onClick={() => this.closeToast()}\n      >\n        <c-icon\n          {...{ ...(!!this.message.closeText && { slot: 'icon' }) }}\n          color=\"var(--_c-toast-color)\"\n          path={this._icons.close}\n        />\n\n        {this.message.closeText}\n      </Tag>\n    );\n  }\n\n  render() {\n    const showProgressBar = !this.message.persistent && this.message.progress;\n\n    return (\n      <Host\n        id={`c-toast--${this.message.id}`}\n        class={{ [this.message.type]: true }}\n        role=\"alert\"\n        aria-atomic=\"true\"\n        aria-live=\"assertive\"\n        onMouseEnter={() => this._onMouseEnter()}\n        onMouseLeave={() => this._onMouseLeave()}\n      >\n        <span class=\"visuallyhidden\">{this.message.type} notification</span>\n\n        {this.message.custom ? (\n          <div class=\"c-toast__custom-item\">\n            <div class=\"c-toast__content\">\n              <slot></slot>\n            </div>\n          </div>\n        ) : (\n          <div class=\"c-toast__item\">\n            <svg viewBox=\"0 0 24 24\">\n              <path d={this._icons[this.message.type]}></path>\n            </svg>\n\n            <div class=\"c-toast__content\">\n              {!!this.message.title && <p>{this.message.title}</p>}\n\n              {this.message.message}\n            </div>\n\n            {!this.message.indeterminate && this._renderCloseButton()}\n          </div>\n        )}\n\n        {showProgressBar && (\n          <div\n            class=\"c-toast__progress\"\n            style={{ '--_c-toast-duration': `${this.message.duration}ms` }}\n          >\n            <div\n              class={{\n                'c-toast__progress__bar': true,\n                indeterminate: this.message.indeterminate,\n              }}\n            ></div>\n          </div>\n        )}\n      </Host>\n    );\n  }\n}\n"],"version":3}