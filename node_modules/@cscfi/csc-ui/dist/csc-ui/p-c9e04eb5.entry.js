import{r as t,c as i,h as a,H as n}from"./p-565ec8e4.js";import{o,i as e,t as s}from"./p-d32e42fe.js";const r="html{box-sizing:border-box}body{margin:0}*,*:before,*:after{box-sizing:inherit;-webkit-tap-highlight-color:transparent}:host{font-family:var(--c-font-family)}::-ms-reveal{display:none}:host{--_c-pagination-button-active-background-color:var(--c-pagination-button-active-background-color, var(--c-primary-600));--_c-pagination-button-active-background-color-hover:var(--c-pagination-button-active-background-color-hover, var(--c-primary-400));--_c-pagination-button-active-text-color:var(--c-pagination-button-active-text-color, var(--c-white));--_c-pagination-button-background-color:var(--c-pagination-button-background-color, var(--c-transparent));--_c-pagination-button-background-color-hover:var(--c-pagination-button-background-color-hover, rgba(var(--c-primary-rgb), 0.1));--_c-pagination-button-text-color:var(--c-pagination-button-text-color, var(--_c-pagination-button-active-background-color));--_c-pagination-text-color:var(--c-pagination-text-color, var(--c-text-system));--_c-pagination-menu-text-color:var(--c-pagination-menu-text-color, var(--c-text-system));--_c-pagination-menu-text-color-active:var(--c-pagination-menu-text-color-active, var(--c-primary-600));--_c-pagination-menu-background-color-hover:var(--c-pagination-menu-background-color-hover, var(--c-primary-200));--_c-pagination-menu-outline-color:var(--c-pagination-menu-outline-color, var(--c-primary-600));display:block}:host c-icon-button{--c-icon-button-background-color:var(--_c-pagination-button-active-background-color);--c-icon-button-background-color-hover:var(--_c-pagination-button-active-background-color-hover);--c-icon-button-text-color:var(--_c-pagination-button-active-text-color);--c-icon-button-text-background-color:var(--_c-pagination-button-background-color);--c-icon-button-text-background-color-hover:var(--_c-pagination-button-background-color-hover);--c-icon-button-text-text-color:var(--_c-pagination-button-text-color)}:host span{font-size:14px;text-align:right;white-space:nowrap}:host .range{min-width:132px}:host .visuallyhidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}:host(.c-pagination) nav{align-items:center;display:flex;flex-wrap:wrap;gap:0 24px;justify-content:center;width:100%}:host(.c-pagination) ul{align-items:center;display:flex;gap:4px;justify-content:center;list-style:none;margin:0;padding:0}:host(.c-pagination) .c-pagination__details{color:var(--_c-pagination-text-color);align-items:center;display:flex;flex-wrap:wrap;flex:auto;justify-content:space-between}:host(.c-pagination) .c-pagination__items-per-page{color:var(--_c-pagination-text-color);font-size:14px;text-align:right;white-space:nowrap;display:flex;align-items:center;gap:4px}:host(.c-pagination) c-menu{--c-menu-text-color:var(--_c-pagination-menu-text-color);--c-menu-text-color-active:var(--_c-pagination-menu-text-color-active);--c-menu-background-color-hover:var(--_c-pagination-menu-background-color-hover);--c-menu-outline-color:var(--_c-pagination-menu-outline-color)}:host(.c-pagination--simple) ul{flex:1;justify-content:flex-end}:host(.c-pagination--small) ul{gap:2px}";const c=class{constructor(a){t(this,a);this.changeValue=i(this,"changeValue",3);this._textContent={itemsPerPageText:"Items per page:",nextPage:"Next page",prevPage:"Previous page"};this._buttons=[];this._increasePageNumber=()=>{if(this._currentPage<this._getTotalPages()){this._currentPage+=1;this._valueChangeHandler()}};this._decreasePageNumber=()=>{if(this._currentPage>1){this._currentPage-=1;this._valueChangeHandler()}};this.value={itemCount:0};this.hideDetails=false;this.simple=false;this.size="default";this._currentPage=undefined;this._itemsPerPage=undefined;this._pageSizes=undefined;this._totalVisible=undefined;this.hideRange=false;this.tick=""}valueHandler(t,i){if(this._isEqual(t,i))return;requestAnimationFrame((()=>{this._setRange()}))}_isEqual(t,i){const a=Object.keys(t||{});const n=Object.keys(i||{});if(a.length!==n.length){return false}for(const n of a){if(t[n]!==i[n]){return false}}return true}componentWillLoad(){this._setRange()}_getText(t){var i;const a=((i=this.value.textOverrides)===null||i===void 0?void 0:i[t])?this.value.textOverrides:this._textContent;return a[t]}_setRange(){if(!this.value)return;this._currentPage=this.value.currentPage||1;this._itemsPerPage=this.value.itemsPerPage||25;this._totalVisible=this.value.totalVisible||7;this._pageSizes=this.value.pageSizes||[5,25,50,100];this.value.startFrom=this._currentPage*this._itemsPerPage-this._itemsPerPage;this.value.endTo=this._currentPage*this._itemsPerPage-1;this.changeValue.emit(this.value)}_valueChangeHandler(){this.value.currentPage=this._currentPage;this.value.itemsPerPage=this._itemsPerPage;this._setRange()}_renderMenu(){const t=this._pageSizes.map((t=>({name:t.toString(),action:()=>{this._itemsPerPage=t;this._currentPage=1;this._valueChangeHandler()}})));const i=t=>{t.stopPropagation()};return a("div",{class:"c-pagination__items-per-page"},this._getText("itemsPerPageText"),a("c-menu",{items:t,onClick:i},a("div",null,a("span",{class:"items-per-page"},this._itemsPerPage))))}_getTotalPages(){return Math.ceil(this.value.itemCount/this._itemsPerPage)}_setPage(t){this._currentPage=t;this._valueChangeHandler()}_getRange(){var t;if(this.hideRange||!this.value.itemCount)return;const i=Math.min(this._currentPage*this._itemsPerPage,this.value.itemCount);const a=this.value.startFrom+1;const n=(t=this.value.textOverrides)===null||t===void 0?void 0:t.pageText;let o;if(n){o=n({start:a,end:i,count:this.value.itemCount})}return n?o:`${a} - ${i} of ${this.value.itemCount} items`}_getArrowLeft(t){return a("li",null,a("c-icon-button",{"aria-disabled":this.value.currentPage<=1?"true":"false","aria-label":`${this._getText("prevPage")}`,disabled:this.value.currentPage<=1,size:t,text:true,onClick:this._decreasePageNumber},a("span",{class:"visuallyhidden"},this._getText("prevPage")),a("c-icon",{path:o})))}_getArrowRight(t){return a("li",null,a("c-icon-button",{"aria-disabled":this.value.currentPage>=this._getTotalPages()?"true":"false","aria-label":`${this._getText("nextPage")}`,disabled:this.value.currentPage>=this._getTotalPages(),size:t,text:true,onClick:this._increasePageNumber},a("span",{class:"visuallyhidden"},this._getText("nextPage")),a("c-icon",{path:e})))}_button(t,i){var n;const o={text:this._currentPage!==t,onClick:()=>this._setPage(t),size:i};if(this._currentPage===t){o["aria-current"]="page"}const e=(n=this.value.textOverrides)===null||n===void 0?void 0:n.pageOfText;let s;if(e){s=e({pageNumber:t,count:this._getTotalPages()})}return a("li",null,a("c-icon-button",Object.assign({},o),a("span",{"aria-label":e?s:`page ${t} of ${this._getTotalPages()}`},t)))}_addButton(t,i){this._buttons.push(this._button(t,i))}_addSeparator(t){this._buttons.push(a("li",null,a("c-icon-button",{"aria-disabled":"true",size:t,tabindex:"-1",role:"separator",disabled:true,text:true},a("svg",{width:"16",height:"16",viewBox:"0 0 24 24"},a("path",{d:s})))))}_addButtons(t,i,a){if(t>1){this._addButton(1,a);this._addSeparator(a)}for(let n=1;n<i;n++){this._addButton(t+n,a)}const n=this._getTotalPages()<=this._totalVisible;if((this._currentPage<this._totalVisible-1||this._currentPage<this._getTotalPages()-this._totalVisible+4)&&!n){this._addSeparator(a)}}_getPageButtons(t){this._buttons=[];let i=0;let a=this._getTotalPages()+1;const n=this._getTotalPages()>this._totalVisible;if(n){if(this._currentPage<this._totalVisible-2){a=this._totalVisible-1}else if(this._currentPage<this._getTotalPages()-this._totalVisible+4){i=Math.ceil(this._currentPage-this._totalVisible/2)+1;a=this._totalVisible-3}else{i=this._getTotalPages()-this._totalVisible+2;a=this._totalVisible-2}}this._addButtons(i,a,t);if(n){this._buttons.push(this._button(this._getTotalPages(),t))}return this._buttons}_renderPaginationButtons(){if(!this.value.itemCount)return"";const t=this.size==="small"?"x-small":"small";return a("ul",null,this._getArrowLeft(t),!this.simple&&this._getPageButtons(t),this._getArrowRight(t))}render(){const t={"c-pagination":true,"c-pagination--small":this.size==="small","c-pagination--simple":this.simple};return a(n,{class:t},a("nav",{role:"navigation","aria-label":"pagination"},!this.hideDetails&&a("div",{class:"c-pagination__details"},this._renderMenu(),a("span",{class:{range:!this.simple}},this._getRange())),this._renderPaginationButtons()))}static get watchers(){return{value:["valueHandler"]}}};c.style=r;export{c as c_pagination};
//# sourceMappingURL=p-c9e04eb5.entry.js.map