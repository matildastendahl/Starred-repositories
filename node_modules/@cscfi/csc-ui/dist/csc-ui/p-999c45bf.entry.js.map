{"version":3,"names":["cTabsCss","ScrollDirection","CTabs","this","_initialized","_debounce","_moveDebounce","_isDirty","_focusedTabValue","value","_intersectionObserver","IntersectionObserver","entry","isIntersecting","setTimeout","_handleOverflow","threshold","_previousWidth","_maxScrollOffset","_startX","_touchOffset","onJustificationChange","_handleActiveTab","onExternalValueChange","changeValue","emit","_updateItemsValue","tabFocusHandler","event","stopPropagation","detail","tabChangeHandler","handleKeyDown","tabs","includes","target","disabled","key","code","handleKeyUp","isArrowLeft","isArrowRight","tabIndex","_getTabIndex","firstAvailableValue","availableValues","at","lastAvailableValue","isBeginning","isEnd","nextValue","previousValue","_focusTab","_prefersReducedMotion","window","matchMedia","matches","disableAnimation","_tabItems","el","querySelector","_tabButtons","tabItems","componentWillLoad","_uniqueId","classList","add","setAttribute","componentDidLoad","_resizeObserver","ResizeObserver","entries","_handleResize","contentRect","width","observe","style","setProperty","setsize","toString","requestAnimationFrame","disconnectedCallback","disconnect","Array","from","querySelectorAll","length","map","tab","findIndex","_setIndicatorTop","container","shadowRoot","_setIndicatorLeft","_setIndicatorWidth","position","oldTab","_a","forEach","index","isActive","tabId","tabItemId","active","item","find","child","_moveIndicator","isOverflowing","selectedTab","_moveToTab","_tabsTabsElement","focus","_getDimensions","x","getBoundingClientRect","containerX","containerWidth","scrollerX","scrollerWidth","_tabsScrollElement","isInView","clearTimeout","content","isMobile","mobileBreakpoint","scrollWidth","clientWidth","newTab","buttonOffset","newTabWidth","offsetWidth","newTabHeight","vertical","offsetHeight","newTabPosition","compareDocumentPosition","transitionWidth","Right","offsetTop","offsetLeft","onTransitionEnd","propertyName","removeEventListener","addEventListener","onScrollOffsetChange","offset","contentSize","containerSize","_onTouchEnd","_onTouchMove","preventDefault","touches","clientX","isInRange","scrollOffset","_onTouchStart","_onBackClick","min","step","Math","_onForwardClick","max","dataset","isFirstTab","isLastTab","tabEnd","containerEnd","isOverflowingStart","isOverflowingEnd","tabInside","tabOutside","render","classes","borderless","justify","h","Host","role","class","size","ghost","onClick","bind","path","mdiArrowLeft","ref","onTouchStart","onTouchMove","onTouchEnd","mdiArrowRight","name"],"sources":["src/components/c-tabs/c-tabs.scss?tag=c-tabs&encapsulation=shadow","src/components/c-tabs/c-tabs.tsx"],"sourcesContent":[":host(.c-tabs) {\n  /**\n   * @prop --c-tabs-border-color: Tabs border color\n   * @prop --c-tabs-indicator-color: Tab indicator color\n   */\n  --_c-tabs-border-color: var(--c-tabs-border-color, var(--c-tertiary-200));\n  --_c-tabs-indicator-color: var(--c-tabs-indicator-color, var(--c-primary-600));\n\n  // private\n  --_c-tabs-transition-speed: 0.001ms;\n\n  display: block;\n  width: 100%;\n  transform: translateX(0%);\n  max-width: 100%;\n\n  .c-tabs__container {\n    display: grid;\n    grid-template-columns: 1fr;\n    align-items: center;\n    gap: 4px;\n\n    --c-icon-button-border-radius: 4px;\n  }\n\n  .c-tabs__tabs {\n    display: flex;\n    overflow: hidden;\n    padding: 4px;\n    position: relative;\n    margin: -4px;\n\n    &::after {\n      position: absolute;\n      content: \"\";\n      bottom: 4px;\n      inset-inline: 0;\n      height: 1px;\n      background-color: var(--_c-tabs-border-color);\n    }\n  }\n\n  .c-tabs__scroll {\n    transform: translateX(var(--_c-tabs-scroll-position-x));\n    transition: transform var(--_c-tabs-transition-speed) cubic-bezier(0.075, 0.82, 0.165, 1);\n    display: flex;\n    margin: 0;\n    padding: 0;\n    position: relative;\n    flex-grow: 1;\n\n    &::after {\n      content: \"\";\n      position: absolute;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      height: 3px;\n      scale: var(--_c-tabs-indicator-width, 0.125) 1;\n      opacity: 0.01;\n      translate: var(--_c-tabs-indicator-left, 0) 0;\n      transform-origin: left;\n      transition:\n        scale var(--_c-tabs-transition-speed) cubic-bezier(0.075, 0.82, 0.165, 1),\n        translate var(--_c-tabs-transition-speed) cubic-bezier(0.075, 0.82, 0.165, 1);\n      background: var(--_c-tabs-indicator-color);\n    }\n  }\n\n  .c-tabs__content {\n    display: flex;\n  }\n\n  ::slotted(c-tab-buttons) {\n    flex-grow: 1;\n  }\n}\n\n:host(.c-tabs.c-tabs--justify-start:not(.c-tabs--vertical)) {\n  ::slotted(c-tab-buttons),\n  ::slotted(c-tab) {\n    flex-grow: 0;\n  }\n}\n\n:host(.c-tabs.c-tabs--justify-end:not(.c-tabs--vertical)) {\n  .c-tabs__scroll {\n    justify-content: end;\n  }\n\n  ::slotted(c-tab-buttons),\n  ::slotted(c-tab) {\n    flex-grow: 0;\n  }\n}\n\n:host(.c-tabs.c-tabs--justify-center:not(.c-tabs--vertical)) {\n  .c-tabs__scroll {\n    justify-content: center;\n  }\n\n  ::slotted(c-tab-buttons),\n  ::slotted(c-tab) {\n    flex-grow: 0;\n  }\n}\n\n:host(.c-tabs.c-tabs--vertical.c-tabs--mobile) {\n  grid-template-columns: 1fr;\n}\n\n:host(.c-tabs.c-tabs--vertical) {\n  display: grid;\n  grid-template-columns: auto 1fr;\n  grid-template-rows: 1fr;\n\n  .c-tabs__tabs::after {\n    display: none;\n  }\n\n  ::slotted(c-tab-items) {\n    position: relative;\n    min-height: 100%;\n  }\n\n  .c-tabs__scroll {\n    display: grid;\n    max-width: 100%;\n\n    &::after {\n      display: none;\n    }\n\n    &::before {\n      content: \"\";\n      position: absolute;\n      width: 4px;\n      top: 0;\n      bottom: 0;\n      right: 0;\n      scale: 1 var(--_c-tabs-indicator-width, 0.125);\n      opacity: 0.01;\n      translate: 0 var(--_c-tabs-indicator-top, 0);\n      transform-origin: top left;\n      transition: scale var(--_c-tabs-transition-speed) cubic-bezier(0.075, 0.82, 0.165, 1), translate var(--_c-tabs-transition-speed) cubic-bezier(0.075, 0.82, 0.165, 1);\n      background: var(--_c-tabs-indicator-color);\n    }\n  }\n\n  ::slotted(c-tab) {\n    box-shadow: inset -1px 0 0 0 var(--_c-tabs-border-color);\n    padding-inline: 24px;\n    justify-content: start;\n    max-width: 100%;\n    min-width: 100%;\n  }\n}\n\n:host(.c-tabs.c-tabs--buttons) {\n  .c-tabs__tabs::after,\n  .c-tabs__scroll::after {\n    display: none;\n  }\n}\n\n:host(.c-tabs--borderless) ::slotted(c-tab) {\n  box-shadow: none;\n}\n\n:host(.c-tabs.c-tabs--initialized) {\n  .c-tabs__scroll::after {\n    opacity: 1;\n  }\n\n  .c-tabs__scroll::before {\n    opacity: 1;\n  }\n}\n\n:host(.c-tabs.c-tabs--overflow) {\n  .c-tabs__container {\n    grid-template-columns: auto 1fr auto;\n  }\n}\n","import { mdiArrowLeft, mdiArrowRight } from '@mdi/js';\nimport {\n  Component,\n  h,\n  Host,\n  Element,\n  Event,\n  Prop,\n  EventEmitter,\n  Listen,\n  Watch,\n  State,\n} from '@stencil/core';\nimport { CTabsJustify } from '../../types';\n\nenum ScrollDirection {\n  Left = 2,\n  Right = 4,\n}\n\n/**\n * @group Content Selectors\n * @slot Default slot - Default slot\n */\n@Component({\n  tag: 'c-tabs',\n  styleUrl: 'c-tabs.scss',\n  shadow: true,\n})\nexport class CTabs {\n  /**\n   * Currently active tab\n   */\n  @Prop({ mutable: true }) value!: number | string;\n\n  /**\n   * Disable the bottom border\n   */\n  @Prop() borderless = false;\n\n  /**\n   * Disable animation\n   */\n  @Prop() disableAnimation = false;\n\n  /**\n   * Justification of the children\n   */\n  @Prop() justify: CTabsJustify = 'stretch';\n\n  /**\n   * Mobile breakpoint in pixels\n   * - affects the content stacking with the vertical tabs\n   */\n  @Prop() mobileBreakpoint = 640;\n\n  /**\n   * Vertical tabs\n   */\n  @Prop() vertical = false;\n\n  /**\n   * Emit changes to the parent\n   */\n  @Event({ bubbles: false }) changeValue: EventEmitter;\n\n  @Element() el: HTMLCTabsElement;\n\n  private _tabsTabsElement: HTMLDivElement;\n\n  private _tabsScrollElement: HTMLDivElement;\n\n  private _initialized = false;\n\n  private _resizeObserver: ResizeObserver;\n\n  private _debounce = null;\n\n  private _moveDebounce = null;\n\n  private _isDirty = false;\n\n  private _focusedTabValue = this.value;\n\n  private static _uniqueId = 0;\n\n  @Watch('justify')\n  onJustificationChange() {\n    this._handleActiveTab();\n  }\n\n  @Watch('value')\n  onExternalValueChange() {\n    this._handleActiveTab();\n\n    this.changeValue.emit(this.value);\n\n    this._updateItemsValue();\n  }\n\n  @Listen('tabFocus', { passive: true })\n  tabFocusHandler(event: CustomEvent) {\n    event.stopPropagation();\n\n    this._focusedTabValue = event.detail;\n  }\n\n  @Listen('tabChange', { passive: true })\n  tabChangeHandler(\n    event: CustomEvent<{\n      value: number | string;\n      element: HTMLCTabElement;\n    }>,\n  ) {\n    event.stopPropagation();\n\n    this.value = event.detail.value;\n  }\n\n  @Listen('keydown', { capture: true })\n  handleKeyDown(event: KeyboardEvent) {\n    // @ts-expect-error - type of the event.target is unknown\n    if (!this.tabs.includes(event.target) || event.target.disabled) return;\n\n    if (event.key === 'Enter' || event.code === 'Space') {\n      this.value = (event.target as HTMLCTabElement).value;\n    }\n  }\n\n  @Listen('keyup', { capture: true })\n  handleKeyUp(event: KeyboardEvent) {\n    this._isDirty = true;\n\n    // @ts-expect-error - type of the event.target is unknown\n    if (!this.tabs.includes(event.target)) return;\n\n    const isArrowLeft = event.key === 'ArrowLeft';\n    const isArrowRight = event.key === 'ArrowRight';\n\n    if (!isArrowRight && !isArrowLeft) return;\n\n    const tabIndex = this._getTabIndex(this._focusedTabValue);\n\n    const firstAvailableValue = this.availableValues.at(0);\n    const lastAvailableValue = this.availableValues.at(-1);\n\n    const isBeginning = this._focusedTabValue === firstAvailableValue;\n    const isEnd = this._focusedTabValue === lastAvailableValue;\n\n    const nextValue = isEnd\n      ? firstAvailableValue\n      : this.availableValues[tabIndex + 1];\n\n    const previousValue = isBeginning\n      ? lastAvailableValue\n      : this.availableValues[tabIndex - 1];\n\n    if (isArrowLeft) {\n      if (isBeginning) return;\n\n      this._focusTab(previousValue);\n    }\n\n    if (isArrowRight) {\n      if (isEnd) return;\n      this._focusTab(nextValue);\n    }\n  }\n\n  private get _prefersReducedMotion() {\n    return (\n      window.matchMedia('(prefers-reduced-motion: reduce)').matches ||\n      this.disableAnimation\n    );\n  }\n\n  private get _tabItems() {\n    return this.el.querySelector(\n      ':scope > c-tab-items',\n    ) as HTMLCTabItemsElement;\n  }\n\n  private get _tabButtons() {\n    return this.el.querySelector(\n      ':scope > c-tab-buttons',\n    ) as HTMLCTabButtonsElement;\n  }\n\n  private _intersectionObserver = new IntersectionObserver(\n    ([entry]) => {\n      if (entry.isIntersecting) {\n        setTimeout(() => {\n          this._handleOverflow();\n        }, 1000);\n      }\n    },\n    { threshold: 1 },\n  );\n\n  private _updateItemsValue() {\n    this.tabItems.value = this.value;\n\n    if (this._tabButtons) {\n      this._tabButtons.value = this.value;\n    }\n  }\n\n  componentWillLoad() {\n    CTabs._uniqueId += 1;\n\n    this._tabItems.disableAnimation = this._prefersReducedMotion;\n\n    // if tab buttons are used, mark them as tab controller\n    if (this._tabButtons) {\n      this.el.classList.add('c-tabs--buttons');\n      this._tabButtons.setAttribute('tabs', 'true');\n    }\n\n    this._updateItemsValue();\n  }\n\n  componentDidLoad() {\n    this._resizeObserver = new ResizeObserver((entries) => {\n      this._handleResize(entries[0].contentRect.width);\n    });\n\n    this._resizeObserver.observe(this.el);\n\n    this._intersectionObserver.observe(this.el);\n\n    this.el.style.setProperty('--_c-tabs-count', this.setsize.toString());\n\n    requestAnimationFrame(() => {\n      this._handleOverflow();\n    });\n  }\n\n  disconnectedCallback() {\n    this._intersectionObserver.disconnect();\n  }\n\n  get tabs() {\n    if (!!this._tabButtons) {\n      return Array.from(\n        this._tabButtons.querySelectorAll(':scope > c-button'),\n      ) as HTMLCButtonElement[];\n    }\n\n    return Array.from(\n      this.el.querySelectorAll(':scope > c-tab'),\n    ) as HTMLCTabElement[];\n  }\n\n  get tabItems() {\n    return this.el.querySelector('c-tab-items') as HTMLCTabItemsElement;\n  }\n\n  get setsize() {\n    return this.tabs.length;\n  }\n\n  get availableValues() {\n    return this.tabs.map((tab) => tab.value);\n  }\n\n  private _previousWidth = 0;\n\n  private _getTabIndex(value: string | number) {\n    return this.availableValues.findIndex((tab) => tab === value);\n  }\n\n  private _setIndicatorTop(value: number) {\n    const container = this.el.shadowRoot.querySelector(\n      '.c-tabs__tabs',\n    ) as HTMLDivElement;\n\n    container.style.setProperty('--_c-tabs-indicator-top', `${value}px`);\n  }\n\n  private _setIndicatorLeft(value: number) {\n    const container = this.el.shadowRoot.querySelector(\n      '.c-tabs__tabs',\n    ) as HTMLDivElement;\n\n    container.style.setProperty('--_c-tabs-indicator-left', `${value}px`);\n  }\n\n  private _setIndicatorWidth(value: number) {\n    const container = this.el.shadowRoot.querySelector(\n      '.c-tabs__tabs',\n    ) as HTMLDivElement;\n\n    container.style.setProperty('--_c-tabs-indicator-width', value.toString());\n  }\n\n  private _handleActiveTab() {\n    requestAnimationFrame(() => {\n      let position = 0;\n\n      const oldTab =\n        (this.el.querySelector('[aria-selected=\"true\"]') as HTMLCTabElement) ??\n        this.tabs[0];\n\n      this.tabs.forEach(\n        (tab: HTMLCTabElement | HTMLCButtonElement, index: number) => {\n          if (!tab.disabled) {\n            position += 1;\n          }\n\n          const isActive = tab.value === this.value;\n\n          const tabId = `c-tab-${CTabs._uniqueId}-${index + 1}`;\n\n          const tabItemId = `c-tab-item-${CTabs._uniqueId}-${index + 1}`;\n\n          tab.setAttribute('id', tabId);\n          tab.setAttribute('aria-controls', tabItemId);\n\n          if (!this._tabButtons) {\n            (tab as HTMLCTabElement).active = isActive;\n          } else if (isActive) {\n            this._tabButtons.value = tab.value;\n          }\n\n          const item = (\n            Array.from(\n              this.tabItems.querySelectorAll(':scope > c-tab-item'),\n            ) as HTMLCTabItemElement[]\n          ).find((child) => child.value === tab.value);\n\n          item.setAttribute('disabled', (!!tab.disabled).toString());\n\n          item.setAttribute('id', tabItemId);\n          item.setAttribute('aria-labelledby', tabId);\n          item.active = isActive;\n          item.setAttribute('active', isActive.toString());\n\n          if (!tab.disabled) {\n            tab.setAttribute('aria-posinset', position.toString());\n            tab.setAttribute('setsize', this.availableValues.length.toString());\n          }\n\n          if (isActive && !this._tabButtons) {\n            this._moveIndicator(\n              oldTab as HTMLCTabElement,\n              tab as HTMLCTabElement,\n            );\n\n            requestAnimationFrame(() => {\n              if (!this.isOverflowing) return;\n\n              const selectedTab = this.el.querySelector(\n                'c-tab[aria-selected=\"true\"]',\n              ) as HTMLCTabElement;\n\n              this._moveToTab(selectedTab);\n\n              this._tabsTabsElement.style.setProperty(\n                '--_c-tabs-transition-speed',\n                '200ms',\n              );\n            });\n          }\n\n          if (isActive && this._isDirty) {\n            tab.focus();\n          }\n        },\n      );\n    });\n  }\n\n  private _maxScrollOffset = 0;\n\n  private _getDimensions(item: HTMLCTabElement) {\n    const { x, width } = item.getBoundingClientRect();\n\n    const { x: containerX, width: containerWidth } =\n      this._tabsTabsElement.getBoundingClientRect();\n\n    const { x: scrollerX, width: scrollerWidth } =\n      this._tabsScrollElement.getBoundingClientRect();\n\n    return {\n      x,\n      width,\n      containerWidth,\n      containerX,\n      scrollerX,\n      scrollerWidth,\n    };\n  }\n\n  private _focusTab(value: string | number) {\n    if (this._tabButtons) {\n      return;\n    }\n\n    requestAnimationFrame(() => {\n      const item = this.tabs.find(\n        (tab) => tab.value === value,\n      ) as HTMLCTabElement;\n\n      const { x, width, containerX, containerWidth } =\n        this._getDimensions(item);\n\n      const isInView =\n        x >= containerX && x + width <= containerX + containerWidth;\n\n      if (isInView) {\n        item?.focus();\n\n        return;\n      }\n\n      this._moveToTab(item);\n    });\n  }\n\n  private _handleResize(width: number) {\n    if (this._moveDebounce !== null) return;\n\n    if (this._debounce !== null) {\n      clearTimeout(this._debounce);\n      this._debounce = null;\n    }\n\n    this._debounce = setTimeout(() => {\n      const content = this.el.shadowRoot.querySelector('.c-tabs__scroll');\n      const container = this.el.shadowRoot.querySelector('.c-tabs__tabs');\n\n      requestAnimationFrame(() => {\n        if (width === this._previousWidth) return;\n        this._handleOverflow();\n\n        this.isMobile = width < this.mobileBreakpoint;\n\n        this._maxScrollOffset =\n          -1 * (content.scrollWidth - container.clientWidth);\n\n        this._handleActiveTab();\n        this._previousWidth = width;\n      });\n    }, 200);\n  }\n\n  private _moveIndicator(oldTab: HTMLCTabElement, newTab: HTMLCTabElement) {\n    if (this._moveDebounce !== null) return;\n\n    this._moveDebounce = setTimeout(() => {\n      requestAnimationFrame(() => {\n        const content = this.el.shadowRoot.querySelector(\n          '.c-tabs__scroll',\n        ) as HTMLDivElement;\n\n        const container = this.el.shadowRoot.querySelector(\n          '.c-tabs__tabs',\n        ) as HTMLDivElement;\n\n        if (this._initialized && !this._prefersReducedMotion) {\n          container.style.setProperty('--_c-tabs-transition-speed', '200ms');\n        }\n\n        const buttonOffset = this.isOverflowing ? 32 : 0;\n\n        const newTabWidth = newTab.offsetWidth / content.offsetWidth;\n\n        const newTabHeight = this.vertical\n          ? newTab.offsetHeight / content.offsetHeight\n          : newTab.offsetHeight / content.offsetHeight;\n\n        const newTabPosition = oldTab.compareDocumentPosition(newTab);\n\n        let transitionWidth = 0;\n\n        // if the new tab is to the right of down\n        if (newTabPosition === ScrollDirection.Right) {\n          transitionWidth = this.vertical\n            ? newTab.offsetTop + newTab.offsetHeight - oldTab.offsetTop\n            : newTab.offsetLeft + newTab.offsetWidth - oldTab.offsetLeft;\n        } else {\n          // if the tab is to the left or top\n          transitionWidth = this.vertical\n            ? oldTab.offsetTop + oldTab.offsetHeight - newTab.offsetTop\n            : oldTab.offsetLeft + oldTab.offsetWidth - newTab.offsetLeft;\n\n          this._setIndicatorLeft(newTab.offsetLeft - buttonOffset);\n          this._setIndicatorTop(newTab.offsetTop - buttonOffset);\n        }\n\n        this._setIndicatorWidth(\n          this.vertical\n            ? transitionWidth / content.offsetHeight\n            : transitionWidth / content.offsetWidth,\n        );\n\n        const onTransitionEnd = (event) => {\n          if (event.propertyName !== 'scale') return;\n\n          this._setIndicatorLeft(newTab.offsetLeft - buttonOffset);\n          this._setIndicatorTop(newTab.offsetTop - buttonOffset);\n\n          this._setIndicatorWidth(this.vertical ? newTabHeight : newTabWidth);\n\n          content.removeEventListener('transitionend', onTransitionEnd);\n\n          if (!this._initialized) {\n            this.el.classList.add('c-tabs--initialized');\n          }\n\n          this._initialized = true;\n        };\n\n        content.addEventListener('transitionend', onTransitionEnd);\n      });\n\n      clearTimeout(this._moveDebounce);\n      this._moveDebounce = null;\n    }, 200);\n  }\n\n  private _startX = 0;\n\n  private _touchOffset = 0;\n\n  @State() isOverflowing = false;\n\n  @State() isMobile = false;\n\n  @State() scrollOffset = 0;\n\n  @Watch('scrollOffset')\n  onScrollOffsetChange(offset) {\n    this._tabsTabsElement.style.setProperty(\n      '--_c-tabs-scroll-position-x',\n      `${offset}px`,\n    );\n  }\n\n  private _handleOverflow() {\n    if (this._tabButtons) {\n      this.isOverflowing = false;\n\n      return;\n    }\n\n    const content = this.el.shadowRoot.querySelector('.c-tabs__scroll');\n    const container = this.el.shadowRoot.querySelector('.c-tabs__tabs');\n\n    const contentSize = content.scrollWidth;\n    const containerSize = container.clientWidth;\n\n    this.isOverflowing = containerSize + 1 < contentSize;\n  }\n\n  private _onTouchEnd() {\n    this._tabsTabsElement.style.setProperty(\n      '--_c-tabs-transition-speed',\n      '200ms',\n    );\n  }\n\n  private _onTouchMove(event: TouchEvent) {\n    if (this.vertical) return;\n\n    event.preventDefault();\n\n    this._tabsTabsElement.style.setProperty(\n      '--_c-tabs-transition-speed',\n      '0ms',\n    );\n\n    const offset =\n      -1 * (this._touchOffset + this._startX - event.touches[0].clientX);\n\n    const isInRange = offset <= 0 && offset >= this._maxScrollOffset;\n\n    if (isInRange) {\n      this.scrollOffset = offset;\n    } else if (offset > 0 || !this.isOverflowing) {\n      this.scrollOffset = 0;\n    } else if (offset < this._maxScrollOffset) {\n      this.scrollOffset = this._maxScrollOffset;\n    }\n  }\n\n  private _onTouchStart(event: TouchEvent) {\n    this._handleOverflow();\n\n    if (!this.isOverflowing) return;\n\n    this._touchOffset = this.scrollOffset * -1;\n    this._startX = event.touches[0].clientX;\n  }\n\n  private _onBackClick() {\n    const min = 0;\n\n    const step = this._tabsTabsElement.clientWidth / 2;\n\n    this.scrollOffset = Math.min(this.scrollOffset + step, min);\n  }\n\n  private _onForwardClick() {\n    const max =\n      (this._tabsScrollElement.scrollWidth -\n        this._tabsTabsElement.clientWidth) *\n      -1;\n\n    const step = this._tabsTabsElement.clientWidth / 2;\n\n    this.scrollOffset = Math.max(-1 * step + this.scrollOffset, max);\n  }\n\n  private _moveToTab(tab: HTMLCTabElement) {\n    const onTransitionEnd = () => {\n      tab?.focus();\n\n      this._tabsScrollElement.removeEventListener(\n        'transitionend',\n        onTransitionEnd,\n      );\n    };\n\n    requestAnimationFrame(() => {\n      const tabIndex = this._getTabIndex(tab.dataset.value);\n      const isFirstTab = tabIndex === 0;\n      const isLastTab = tabIndex === this.availableValues.length - 1;\n\n      if (isFirstTab) {\n        this.scrollOffset = 0;\n\n        return;\n      }\n\n      if (isLastTab) {\n        this.scrollOffset = this._maxScrollOffset - 8;\n\n        return;\n      }\n\n      const { x, width, containerWidth, containerX } = this._getDimensions(tab);\n\n      const tabEnd = x + width;\n      const containerEnd = containerX + containerWidth;\n\n      const isOverflowingStart = x < containerX;\n      const isOverflowingEnd = tabEnd > containerEnd;\n\n      if (isOverflowingStart) {\n        const tabInside = tabEnd - containerX;\n        const tabOutside = tabInside - width;\n\n        this.scrollOffset = this.scrollOffset - tabOutside + 4;\n      }\n\n      if (isOverflowingEnd) {\n        this.scrollOffset -= tabEnd - containerEnd + 4;\n      }\n    });\n\n    const content = this.el.shadowRoot.querySelector('.c-tabs__scroll');\n\n    content.addEventListener('transitionend', onTransitionEnd);\n  }\n\n  render() {\n    const classes = {\n      'c-tabs': true,\n      'c-tabs--borderless': this.borderless,\n      'c-tabs--vertical': this.vertical,\n      'c-tabs--overflow': this.isOverflowing,\n      'c-tabs--mobile': this.isMobile,\n      [`c-tabs--justify-${this.justify}`]: true,\n    };\n\n    return (\n      <Host role=\"tablist\" class={classes}>\n        <div class=\"c-tabs__container\">\n          {this.isOverflowing && !this.vertical && (\n            <c-icon-button\n              size=\"x-small\"\n              ghost\n              onClick={this._onBackClick.bind(this)}\n            >\n              <c-icon path={mdiArrowLeft}></c-icon>\n            </c-icon-button>\n          )}\n\n          <div\n            ref={(el) => (this._tabsTabsElement = el)}\n            class=\"c-tabs__tabs\"\n            onTouchStart={this._onTouchStart.bind(this)}\n            onTouchMove={this._onTouchMove.bind(this)}\n            onTouchEnd={this._onTouchEnd.bind(this)}\n          >\n            <div\n              ref={(el) => (this._tabsScrollElement = el)}\n              class=\"c-tabs__scroll\"\n            >\n              <slot></slot>\n            </div>\n          </div>\n\n          {this.isOverflowing && !this.vertical && (\n            <c-icon-button\n              size=\"x-small\"\n              ghost\n              onClick={this._onForwardClick.bind(this)}\n            >\n              <c-icon path={mdiArrowRight}></c-icon>\n            </c-icon-button>\n          )}\n        </div>\n\n        <div class=\"c-tabs__content\">\n          <slot name=\"items\"></slot>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"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"}