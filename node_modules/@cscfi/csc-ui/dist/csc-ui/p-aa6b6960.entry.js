import{r as i,c as t,h as s,g as o}from"./p-565ec8e4.js";const a="html{box-sizing:border-box}body{margin:0}*,*:before,*:after{box-sizing:inherit;-webkit-tap-highlight-color:transparent}:host{font-family:var(--c-font-family)}::-ms-reveal{display:none}dialog{background-color:transparent;border:none;color:var(--c-text-body);inset:0;margin:auto;max-width:calc(100% - 32px);overflow:visible;padding:0;width:var(--_c-modal-width, 600px)}dialog:not([open]){pointer-events:none;opacity:0}dialog::backdrop{background-color:rgba(0, 0, 0, 0.5)}dialog.backdrop-blur::backdrop{backdrop-filter:blur(4px)}@media (prefers-reduced-motion: no-preference){dialog.nudging{animation:dialog-nudge 0.15s cubic-bezier(0.25, 0.8, 0.25, 1) !important}dialog.opening{animation:dialog-open 0.3s cubic-bezier(0.25, 0.8, 0.5, 1) forwards}dialog.opening::backdrop{animation:backdrop-fadein 0.3s forwards}dialog.closing{animation:dialog-close 0.3s cubic-bezier(0.25, 0.8, 0.5, 1) forwards}dialog.closing::backdrop{animation:backdrop-fadeout 0.3s forwards}}@keyframes dialog-nudge{0%{transform:scale(1)}50%{transform:scale(1.03)}100%{transform:scale(1)}}@keyframes dialog-open{from{transform:scale(0)}to{transform:scale(1)}}@keyframes dialog-close{to{transform:scale(0)}}@keyframes backdrop-fadein{from{opacity:0}to{opacity:1}}@keyframes backdrop-fadeout{from{opacity:1}to{opacity:0}}";const n=class{constructor(s){i(this,s);this.changeValue=t(this,"changeValue",3);this._debounce=null;this._handleShow=()=>{if(this._dialog){this._dialog.addEventListener("animationend",this._onDialogOpened);this._dialog.classList.add("opening");this._dialog.showModal()}};this._onDialogOpened=()=>{if(this._dialog){this._dialog.removeEventListener("animationend",this._onDialogOpened);this._dialog.classList.remove("opening")}};this._handleClose=()=>{if(this._dialog){this._dialog.addEventListener("animationend",this._onDialogClosed);this._dialog.classList.add("closing")}};this._onDialogClosed=()=>{if(this._dialog){this._dialog.removeEventListener("animationend",this._onDialogClosed);this._dialog.classList.remove("closing");this._dialog.close()}if(!document.fullscreenElement)return;document.exitFullscreen()};this._handleClickOutside=()=>{this._dialog.addEventListener("click",(i=>{if(i.clientX===0&&i.clientY===0)return;const t=this._dialog.getBoundingClientRect();if(i.clientX<t.left||i.clientX>t.right||i.clientY<t.top||i.clientY>t.bottom){if(!this.dismissable){this._dialog.classList.add("nudging");if(this._debounce!==null){clearTimeout(this._debounce);this._debounce=null}this._debounce=window.setTimeout((()=>{this._dialog.classList.remove("nudging");this._debounce=null}),150);return}this._handleClose();this.changeValue.emit(false)}}))};this._handleKeyDown=i=>{if(i.keyCode===27){i.preventDefault();this._handleClose();this.changeValue.emit(false)}};this.value=false;this.dismissable=false;this.width=600;this.zIndex=10;this.disableBackdropBlur=false;this.innerValue=false;this.animateModal=false}onValueChange(i){if(i){this._handleShow();return}this._handleClose()}componentWillLoad(){this.innerValue=this.value;const i=isNaN(this.width)?this.width:`${this.width}px`;this.el.style.setProperty("--_c-modal-width",`${i}`)}componentDidLoad(){this._handleClickOutside();if(this.value){this._handleShow()}}render(){const i={"z-index":`${this.zIndex}`};const t={"backdrop-blur":!this.disableBackdropBlur};return s("dialog",{ref:i=>this._dialog=i,style:i,class:t,onKeyDown:this._handleKeyDown},s("slot",null))}get el(){return o(this)}static get watchers(){return{value:["onValueChange"]}}};n.style=a;export{n as c_modal};
//# sourceMappingURL=p-aa6b6960.entry.js.map