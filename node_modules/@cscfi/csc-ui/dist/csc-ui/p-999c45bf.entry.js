import{r as t,c as s,h as i,H as a,g as e}from"./p-565ec8e4.js";import{s as o,h as c}from"./p-d32e42fe.js";const n='html{box-sizing:border-box}body{margin:0}*,*:before,*:after{box-sizing:inherit;-webkit-tap-highlight-color:transparent}:host{font-family:var(--c-font-family)}::-ms-reveal{display:none}:host(.c-tabs){--_c-tabs-border-color:var(--c-tabs-border-color, var(--c-tertiary-200));--_c-tabs-indicator-color:var(--c-tabs-indicator-color, var(--c-primary-600));--_c-tabs-transition-speed:0.001ms;display:block;width:100%;transform:translateX(0%);max-width:100%}:host(.c-tabs) .c-tabs__container{display:grid;grid-template-columns:1fr;align-items:center;gap:4px;--c-icon-button-border-radius:4px}:host(.c-tabs) .c-tabs__tabs{display:flex;overflow:hidden;padding:4px;position:relative;margin:-4px}:host(.c-tabs) .c-tabs__tabs::after{position:absolute;content:"";bottom:4px;inset-inline:0;height:1px;background-color:var(--_c-tabs-border-color)}:host(.c-tabs) .c-tabs__scroll{transform:translateX(var(--_c-tabs-scroll-position-x));transition:transform var(--_c-tabs-transition-speed) cubic-bezier(0.075, 0.82, 0.165, 1);display:flex;margin:0;padding:0;position:relative;flex-grow:1}:host(.c-tabs) .c-tabs__scroll::after{content:"";position:absolute;left:0;right:0;bottom:0;height:3px;scale:var(--_c-tabs-indicator-width, 0.125) 1;opacity:0.01;translate:var(--_c-tabs-indicator-left, 0) 0;transform-origin:left;transition:scale var(--_c-tabs-transition-speed) cubic-bezier(0.075, 0.82, 0.165, 1), translate var(--_c-tabs-transition-speed) cubic-bezier(0.075, 0.82, 0.165, 1);background:var(--_c-tabs-indicator-color)}:host(.c-tabs) .c-tabs__content{display:flex}:host(.c-tabs) ::slotted(c-tab-buttons){flex-grow:1}:host(.c-tabs.c-tabs--justify-start:not(.c-tabs--vertical)) ::slotted(c-tab-buttons),:host(.c-tabs.c-tabs--justify-start:not(.c-tabs--vertical)) ::slotted(c-tab){flex-grow:0}:host(.c-tabs.c-tabs--justify-end:not(.c-tabs--vertical)) .c-tabs__scroll{justify-content:end}:host(.c-tabs.c-tabs--justify-end:not(.c-tabs--vertical)) ::slotted(c-tab-buttons),:host(.c-tabs.c-tabs--justify-end:not(.c-tabs--vertical)) ::slotted(c-tab){flex-grow:0}:host(.c-tabs.c-tabs--justify-center:not(.c-tabs--vertical)) .c-tabs__scroll{justify-content:center}:host(.c-tabs.c-tabs--justify-center:not(.c-tabs--vertical)) ::slotted(c-tab-buttons),:host(.c-tabs.c-tabs--justify-center:not(.c-tabs--vertical)) ::slotted(c-tab){flex-grow:0}:host(.c-tabs.c-tabs--vertical.c-tabs--mobile){grid-template-columns:1fr}:host(.c-tabs.c-tabs--vertical){display:grid;grid-template-columns:auto 1fr;grid-template-rows:1fr}:host(.c-tabs.c-tabs--vertical) .c-tabs__tabs::after{display:none}:host(.c-tabs.c-tabs--vertical) ::slotted(c-tab-items){position:relative;min-height:100%}:host(.c-tabs.c-tabs--vertical) .c-tabs__scroll{display:grid;max-width:100%}:host(.c-tabs.c-tabs--vertical) .c-tabs__scroll::after{display:none}:host(.c-tabs.c-tabs--vertical) .c-tabs__scroll::before{content:"";position:absolute;width:4px;top:0;bottom:0;right:0;scale:1 var(--_c-tabs-indicator-width, 0.125);opacity:0.01;translate:0 var(--_c-tabs-indicator-top, 0);transform-origin:top left;transition:scale var(--_c-tabs-transition-speed) cubic-bezier(0.075, 0.82, 0.165, 1), translate var(--_c-tabs-transition-speed) cubic-bezier(0.075, 0.82, 0.165, 1);background:var(--_c-tabs-indicator-color)}:host(.c-tabs.c-tabs--vertical) ::slotted(c-tab){box-shadow:inset -1px 0 0 0 var(--_c-tabs-border-color);padding-inline:24px;justify-content:start;max-width:100%;min-width:100%}:host(.c-tabs.c-tabs--buttons) .c-tabs__tabs::after,:host(.c-tabs.c-tabs--buttons) .c-tabs__scroll::after{display:none}:host(.c-tabs--borderless) ::slotted(c-tab){box-shadow:none}:host(.c-tabs.c-tabs--initialized) .c-tabs__scroll::after{opacity:1}:host(.c-tabs.c-tabs--initialized) .c-tabs__scroll::before{opacity:1}:host(.c-tabs.c-tabs--overflow) .c-tabs__container{grid-template-columns:auto 1fr auto}';var r;(function(t){t[t["Left"]=2]="Left";t[t["Right"]=4]="Right"})(r||(r={}));const h=class{constructor(i){t(this,i);this.changeValue=s(this,"changeValue",3);this._initialized=false;this._debounce=null;this._moveDebounce=null;this._isDirty=false;this._focusedTabValue=this.value;this._intersectionObserver=new IntersectionObserver((([t])=>{if(t.isIntersecting){setTimeout((()=>{this._handleOverflow()}),1e3)}}),{threshold:1});this._previousWidth=0;this._maxScrollOffset=0;this._startX=0;this._touchOffset=0;this.value=undefined;this.borderless=false;this.disableAnimation=false;this.justify="stretch";this.mobileBreakpoint=640;this.vertical=false;this.isOverflowing=false;this.isMobile=false;this.scrollOffset=0}onJustificationChange(){this._handleActiveTab()}onExternalValueChange(){this._handleActiveTab();this.changeValue.emit(this.value);this._updateItemsValue()}tabFocusHandler(t){t.stopPropagation();this._focusedTabValue=t.detail}tabChangeHandler(t){t.stopPropagation();this.value=t.detail.value}handleKeyDown(t){if(!this.tabs.includes(t.target)||t.target.disabled)return;if(t.key==="Enter"||t.code==="Space"){this.value=t.target.value}}handleKeyUp(t){this._isDirty=true;if(!this.tabs.includes(t.target))return;const s=t.key==="ArrowLeft";const i=t.key==="ArrowRight";if(!i&&!s)return;const a=this._getTabIndex(this._focusedTabValue);const e=this.availableValues.at(0);const o=this.availableValues.at(-1);const c=this._focusedTabValue===e;const n=this._focusedTabValue===o;const r=n?e:this.availableValues[a+1];const h=c?o:this.availableValues[a-1];if(s){if(c)return;this._focusTab(h)}if(i){if(n)return;this._focusTab(r)}}get _prefersReducedMotion(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches||this.disableAnimation}get _tabItems(){return this.el.querySelector(":scope > c-tab-items")}get _tabButtons(){return this.el.querySelector(":scope > c-tab-buttons")}_updateItemsValue(){this.tabItems.value=this.value;if(this._tabButtons){this._tabButtons.value=this.value}}componentWillLoad(){h._uniqueId+=1;this._tabItems.disableAnimation=this._prefersReducedMotion;if(this._tabButtons){this.el.classList.add("c-tabs--buttons");this._tabButtons.setAttribute("tabs","true")}this._updateItemsValue()}componentDidLoad(){this._resizeObserver=new ResizeObserver((t=>{this._handleResize(t[0].contentRect.width)}));this._resizeObserver.observe(this.el);this._intersectionObserver.observe(this.el);this.el.style.setProperty("--_c-tabs-count",this.setsize.toString());requestAnimationFrame((()=>{this._handleOverflow()}))}disconnectedCallback(){this._intersectionObserver.disconnect()}get tabs(){if(!!this._tabButtons){return Array.from(this._tabButtons.querySelectorAll(":scope > c-button"))}return Array.from(this.el.querySelectorAll(":scope > c-tab"))}get tabItems(){return this.el.querySelector("c-tab-items")}get setsize(){return this.tabs.length}get availableValues(){return this.tabs.map((t=>t.value))}_getTabIndex(t){return this.availableValues.findIndex((s=>s===t))}_setIndicatorTop(t){const s=this.el.shadowRoot.querySelector(".c-tabs__tabs");s.style.setProperty("--_c-tabs-indicator-top",`${t}px`)}_setIndicatorLeft(t){const s=this.el.shadowRoot.querySelector(".c-tabs__tabs");s.style.setProperty("--_c-tabs-indicator-left",`${t}px`)}_setIndicatorWidth(t){const s=this.el.shadowRoot.querySelector(".c-tabs__tabs");s.style.setProperty("--_c-tabs-indicator-width",t.toString())}_handleActiveTab(){requestAnimationFrame((()=>{var t;let s=0;const i=(t=this.el.querySelector('[aria-selected="true"]'))!==null&&t!==void 0?t:this.tabs[0];this.tabs.forEach(((t,a)=>{if(!t.disabled){s+=1}const e=t.value===this.value;const o=`c-tab-${h._uniqueId}-${a+1}`;const c=`c-tab-item-${h._uniqueId}-${a+1}`;t.setAttribute("id",o);t.setAttribute("aria-controls",c);if(!this._tabButtons){t.active=e}else if(e){this._tabButtons.value=t.value}const n=Array.from(this.tabItems.querySelectorAll(":scope > c-tab-item")).find((s=>s.value===t.value));n.setAttribute("disabled",(!!t.disabled).toString());n.setAttribute("id",c);n.setAttribute("aria-labelledby",o);n.active=e;n.setAttribute("active",e.toString());if(!t.disabled){t.setAttribute("aria-posinset",s.toString());t.setAttribute("setsize",this.availableValues.length.toString())}if(e&&!this._tabButtons){this._moveIndicator(i,t);requestAnimationFrame((()=>{if(!this.isOverflowing)return;const t=this.el.querySelector('c-tab[aria-selected="true"]');this._moveToTab(t);this._tabsTabsElement.style.setProperty("--_c-tabs-transition-speed","200ms")}))}if(e&&this._isDirty){t.focus()}}))}))}_getDimensions(t){const{x:s,width:i}=t.getBoundingClientRect();const{x:a,width:e}=this._tabsTabsElement.getBoundingClientRect();const{x:o,width:c}=this._tabsScrollElement.getBoundingClientRect();return{x:s,width:i,containerWidth:e,containerX:a,scrollerX:o,scrollerWidth:c}}_focusTab(t){if(this._tabButtons){return}requestAnimationFrame((()=>{const s=this.tabs.find((s=>s.value===t));const{x:i,width:a,containerX:e,containerWidth:o}=this._getDimensions(s);const c=i>=e&&i+a<=e+o;if(c){s===null||s===void 0?void 0:s.focus();return}this._moveToTab(s)}))}_handleResize(t){if(this._moveDebounce!==null)return;if(this._debounce!==null){clearTimeout(this._debounce);this._debounce=null}this._debounce=setTimeout((()=>{const s=this.el.shadowRoot.querySelector(".c-tabs__scroll");const i=this.el.shadowRoot.querySelector(".c-tabs__tabs");requestAnimationFrame((()=>{if(t===this._previousWidth)return;this._handleOverflow();this.isMobile=t<this.mobileBreakpoint;this._maxScrollOffset=-1*(s.scrollWidth-i.clientWidth);this._handleActiveTab();this._previousWidth=t}))}),200)}_moveIndicator(t,s){if(this._moveDebounce!==null)return;this._moveDebounce=setTimeout((()=>{requestAnimationFrame((()=>{const i=this.el.shadowRoot.querySelector(".c-tabs__scroll");const a=this.el.shadowRoot.querySelector(".c-tabs__tabs");if(this._initialized&&!this._prefersReducedMotion){a.style.setProperty("--_c-tabs-transition-speed","200ms")}const e=this.isOverflowing?32:0;const o=s.offsetWidth/i.offsetWidth;const c=this.vertical?s.offsetHeight/i.offsetHeight:s.offsetHeight/i.offsetHeight;const n=t.compareDocumentPosition(s);let h=0;if(n===r.Right){h=this.vertical?s.offsetTop+s.offsetHeight-t.offsetTop:s.offsetLeft+s.offsetWidth-t.offsetLeft}else{h=this.vertical?t.offsetTop+t.offsetHeight-s.offsetTop:t.offsetLeft+t.offsetWidth-s.offsetLeft;this._setIndicatorLeft(s.offsetLeft-e);this._setIndicatorTop(s.offsetTop-e)}this._setIndicatorWidth(this.vertical?h/i.offsetHeight:h/i.offsetWidth);const l=t=>{if(t.propertyName!=="scale")return;this._setIndicatorLeft(s.offsetLeft-e);this._setIndicatorTop(s.offsetTop-e);this._setIndicatorWidth(this.vertical?c:o);i.removeEventListener("transitionend",l);if(!this._initialized){this.el.classList.add("c-tabs--initialized")}this._initialized=true};i.addEventListener("transitionend",l)}));clearTimeout(this._moveDebounce);this._moveDebounce=null}),200)}onScrollOffsetChange(t){this._tabsTabsElement.style.setProperty("--_c-tabs-scroll-position-x",`${t}px`)}_handleOverflow(){if(this._tabButtons){this.isOverflowing=false;return}const t=this.el.shadowRoot.querySelector(".c-tabs__scroll");const s=this.el.shadowRoot.querySelector(".c-tabs__tabs");const i=t.scrollWidth;const a=s.clientWidth;this.isOverflowing=a+1<i}_onTouchEnd(){this._tabsTabsElement.style.setProperty("--_c-tabs-transition-speed","200ms")}_onTouchMove(t){if(this.vertical)return;t.preventDefault();this._tabsTabsElement.style.setProperty("--_c-tabs-transition-speed","0ms");const s=-1*(this._touchOffset+this._startX-t.touches[0].clientX);const i=s<=0&&s>=this._maxScrollOffset;if(i){this.scrollOffset=s}else if(s>0||!this.isOverflowing){this.scrollOffset=0}else if(s<this._maxScrollOffset){this.scrollOffset=this._maxScrollOffset}}_onTouchStart(t){this._handleOverflow();if(!this.isOverflowing)return;this._touchOffset=this.scrollOffset*-1;this._startX=t.touches[0].clientX}_onBackClick(){const t=0;const s=this._tabsTabsElement.clientWidth/2;this.scrollOffset=Math.min(this.scrollOffset+s,t)}_onForwardClick(){const t=(this._tabsScrollElement.scrollWidth-this._tabsTabsElement.clientWidth)*-1;const s=this._tabsTabsElement.clientWidth/2;this.scrollOffset=Math.max(-1*s+this.scrollOffset,t)}_moveToTab(t){const s=()=>{t===null||t===void 0?void 0:t.focus();this._tabsScrollElement.removeEventListener("transitionend",s)};requestAnimationFrame((()=>{const s=this._getTabIndex(t.dataset.value);const i=s===0;const a=s===this.availableValues.length-1;if(i){this.scrollOffset=0;return}if(a){this.scrollOffset=this._maxScrollOffset-8;return}const{x:e,width:o,containerWidth:c,containerX:n}=this._getDimensions(t);const r=e+o;const h=n+c;const l=e<n;const b=r>h;if(l){const t=r-n;const s=t-o;this.scrollOffset=this.scrollOffset-s+4}if(b){this.scrollOffset-=r-h+4}}));const i=this.el.shadowRoot.querySelector(".c-tabs__scroll");i.addEventListener("transitionend",s)}render(){const t={"c-tabs":true,"c-tabs--borderless":this.borderless,"c-tabs--vertical":this.vertical,"c-tabs--overflow":this.isOverflowing,"c-tabs--mobile":this.isMobile,[`c-tabs--justify-${this.justify}`]:true};return i(a,{role:"tablist",class:t},i("div",{class:"c-tabs__container"},this.isOverflowing&&!this.vertical&&i("c-icon-button",{size:"x-small",ghost:true,onClick:this._onBackClick.bind(this)},i("c-icon",{path:o})),i("div",{ref:t=>this._tabsTabsElement=t,class:"c-tabs__tabs",onTouchStart:this._onTouchStart.bind(this),onTouchMove:this._onTouchMove.bind(this),onTouchEnd:this._onTouchEnd.bind(this)},i("div",{ref:t=>this._tabsScrollElement=t,class:"c-tabs__scroll"},i("slot",null))),this.isOverflowing&&!this.vertical&&i("c-icon-button",{size:"x-small",ghost:true,onClick:this._onForwardClick.bind(this)},i("c-icon",{path:c}))),i("div",{class:"c-tabs__content"},i("slot",{name:"items"})))}get el(){return e(this)}static get watchers(){return{justify:["onJustificationChange"],value:["onExternalValueChange"],scrollOffset:["onScrollOffsetChange"]}}};h._uniqueId=0;h.style=n;export{h as c_tabs};
//# sourceMappingURL=p-999c45bf.entry.js.map