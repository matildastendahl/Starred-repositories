{"version":3,"names":["cSliderCss","CSlider","onSegmentChange","this","_calculateTickPositions","onValueChange","value","_calculateTrackPosition","requestAnimationFrame","_inputElement","toString","_formatNumber","number","decimals","Intl","NumberFormat","maximumFractionDigits","minimumFractionDigits","format","tickPositions","Array","segments","map","_","index","fraction","max","trackPosition","min","_onInput","event","target","changeValue","emit","_isActive","componentWillLoad","_uniqueId","componentDidLoad","render","classes","labels","styles","h","Host","class","style","label","disableTooltip","unit","ref","el","ariaLabel","type","name","hostName","id","hostId","step","disabled","onInput","position","active","Math","round","ticks"],"sources":["src/components/c-slider/c-slider.scss?tag=c-slider&encapsulation=shadow","src/components/c-slider/c-slider.tsx"],"sourcesContent":[":host(c-slider) {\n  /**\n   * @prop --c-slider-background-color-active-disabled: Active disabled slider background color\n   * @prop --c-slider-background-color-active: Slider active background color\n   * @prop --c-slider-background-color-disabled: Disabled slider background color\n   * @prop --c-slider-background-color: Slider background color\n   * @prop --c-slider-thumb-background-color-disabled: Disabled slider thumb background color\n   * @prop --c-slider-thumb-background-color-hover: Slider thumb background color on hover\n   * @prop --c-slider-thumb-background-color: Slider thumb background color\n   * @prop --c-slider-tick-color-active: Slider active tick color\n   * @prop --c-slider-tick-color: Slider tick color\n   * @prop --c-slider-tooltip-background-color: Slider tooltip background color\n   * @prop --c-slider-tooltip-text-color: Slider tooltip text color\n   */\n  --_c-slider-background-color-active-disabled: var(--c-slider-background-color-active-disabled, var(--c-tertiary-400));\n  --_c-slider-background-color-active: var(--c-slider-background-color-active, var(--c-primary-500));\n  --_c-slider-background-color-disabled: var(--c-slider-background-color-disabled, rgba(var(--c-tertiary-rgb), 0.2));\n  --_c-slider-background-color: var(--c-slider-background-color, rgba(var(--c-tertiary-rgb), 0.2));\n  --_c-slider-thumb-background-color-disabled: var(--c-slider-thumb-background-color-disabled, var(--c-tertiary-500));\n  --_c-slider-thumb-background-color-hover: var(--c-slider-thumb-background-color-hover, rgba(var(--c-primary-rgb), 0.2));\n  --_c-slider-thumb-background-color: var(--c-slider-thumb-background-color, var(--c-primary-600));\n  --_c-slider-tick-color-active: var(--c-slider-tick-color-active, var(--c-white));\n  --_c-slider-tick-color: var(--c-slider-tick-color, var(--c-tertiary-500));\n  --_c-slider-tooltip-background-color: var(--c-slider-tooltip-background-color, var(--c-primary-900));\n  --_c-slider-tooltip-text-color: var(--c-slider-tooltip-text-color, var(--c-white));\n  \n  // private\n  --_c-slider-outline: none;\n  --_c-slider-thumb-scale: 1;\n  --_c-slider-thumb-shadow-size: 8px;\n  --_c-slider-tooltip-opacity: 0;\n  --_c-slider-tooltip-y: -4px;\n\n  $this: &;\n\n  display: block;\n  isolation: isolate;\n  padding-block: 8px;\n\n  .c-slider__label {\n    display: block;\n    margin-bottom: 16px;\n    margin-top: -8px;\n\n    span.required {\n      color: var(--c-error-600);\n    }\n  }\n\n  .c-slider__wrapper {\n    padding-inline: 10px;\n    position: relative;\n\n    /** Mozilla Firefox */\n    @-moz-document url-prefix() {\n      padding-inline: 0;\n    }\n  }\n  \n  input[type=\"range\"] {\n    align-items: center;\n    appearance: none;\n    background-color: transparent;\n    display: flex;\n    height: 8px;\n    margin: 0;\n    position: relative;\n    width: 100%;\n\n    &:focus-visible {\n      --_c-slider-outline: 2px var(--_c-slider-thumb-background-color) solid;\n      \n      outline: none;\n    }\n\n    &::-webkit-slider-runnable-track {\n      width: calc(100% - 20px);\n      margin: 0 -20px;\n    }\n\n    &:active {\n      --_c-slider-thumb-scale: 1.33;\n      --_c-slider-thumb-shadow-size: 0;\n    }\n    \n    &::-webkit-slider-container {\n      display: flex;\n      padding: 0 10px;\n    }\n  \n    &::-webkit-slider-thumb {\n      appearance: none;\n      background-color: var(--_c-slider-thumb-background-color);\n      border-radius: 100%;\n      cursor: pointer;\n      height: 24px;\n      outline-offset: 4px;\n      outline: var(--_c-slider-outline);\n      position: relative;\n      transform-origin: center;\n      transform: scale(var(--_c-slider-thumb-scale));\n      transition:\n        box-shadow .3s cubic-bezier(0.075, 0.82, 0.165, 1),\n        transform .3s cubic-bezier(0.075, 0.82, 0.165, 1);\n      width: 24px;\n      z-index: 1;\n        \n      &:hover {\n        box-shadow: 0 0 0 var(--_c-slider-thumb-shadow-size) var(--_c-slider-thumb-background-color-hover);\n      }\n    }\n\n    &[disabled] {\n      --_c-slider-background-color: var(--_c-slider-background-color-disabled);\n      --_c-slider-background-color-active: var(--_c-slider-background-color-active-disabled);\n      --_c-slider-thumb-background-color: var(--_c-slider-thumb-background-color-disabled);\n\n      pointer-events: none;\n    }\n  }\n\n  /** Mozilla Firefox */\n  @-moz-document url-prefix() {\n    input[type=\"range\"]::-moz-range-thumb {\n      appearance: none;\n      background-color: var(--_c-slider-thumb-background-color);\n      border-radius: 100%;\n      border: 0;\n      cursor: pointer;\n      height: 24px;\n      outline-offset: 2px;\n      outline: var(--_c-slider-outline);\n      position: relative;\n      transform-origin: center;\n      transform: scale(var(--_c-slider-thumb-scale));\n      transition:\n        box-shadow .3s cubic-bezier(0.075, 0.82, 0.165, 1),\n        transform .3s cubic-bezier(0.075, 0.82, 0.165, 1);\n      width: 24px;\n      z-index: 1;\n        \n      &:hover {\n        box-shadow: 0 0 0 var(--_c-slider-thumb-shadow-size) var(--_c-slider-thumb-background-color-hover);\n      }\n    }\n  }\n\n  // tooltip\n  .c-slider__tooltip-wrapper {\n    height: 0;\n    margin-inline: 2px;\n    position: relative;\n    \n    /** Mozilla Firefox */\n    @-moz-document url-prefix() {\n      margin-inline: 12px;\n    }\n\n    span {\n      align-items: center;\n      border-radius: 50%;\n      box-sizing: border-box;\n      display: inline-flex;\n      height: 24px;\n      justify-content: center;\n      left: calc(1% * var(--_c-slider-position));\n      opacity: var(--_c-slider-tooltip-opacity);\n      pointer-events: none;\n      position: absolute;\n      transform: translate(-50%, var(--_c-slider-tooltip-y));\n      transition:\n        opacity .3s cubic-bezier(0.075, 0.82, 0.165, 1),\n        transform .3s cubic-bezier(0.075, 0.82, 0.165, 1);\n      width: 24px;\n\n      &::before {\n        align-items: center;\n        background: var(--_c-slider-tooltip-background-color);\n        border-radius: 4px;\n        bottom: 100%;\n        color: var(--_c-slider-tooltip-text-color);\n        content: attr(data-tooltip);\n        display: inline-flex;\n        flex-wrap: nowrap;\n        height: 30px;\n        padding: 6px;\n        position: absolute;\n        top: -42px;\n        white-space: nowrap;\n      }\n\n      &::after {\n        border-left: 6px solid transparent;\n        border-right: 6px solid transparent;\n        border-top: 6px solid var(--_c-slider-tooltip-background-color);\n        content: \"\";\n        height: 0;\n        left: 50%;\n        margin: -42px 0 0 -6px;\n        position: absolute;\n        width: 0;\n      }\n    }\n  }\n\n  .c-slider__ticks {\n    --c-slider-tick-color: var(--c-tertiary-400);\n\n    align-items: center;\n    background: linear-gradient(\n      to right,\n      var(--_c-slider-background-color-active) calc(1% * var(--_c-slider-position)),\n      var(--_c-slider-background-color) calc(1% * var(--_c-slider-position)),\n    );\n    border-radius: 100vw;\n    display: flex;\n    height: 8px;\n    justify-content: space-between;\n    margin: -8px auto 0;\n    pointer-events: none;\n    position: relative;\n    width: calc(100% - 16px);\n    z-index: -1;\n\n    /** Mozilla Firefox */\n    @-moz-document url-prefix() {\n      width: calc(100% - 20px);\n    }\n\n    &--disabled {\n      --_c-slider-background-color-active: var(--_c-slider-background-color-active-disabled);\n    }\n\n    span {\n      border-radius: 50%;\n      font-size: 12px;\n      height: 4px;\n      padding: 0;\n      position: relative;\n      width: 4px;\n      \n      \n      &.ticks {\n        background-color: var(--_c-slider-tick-color);\n\n        &.active {\n          background-color: var(--_c-slider-tick-color-active);\n        }\n\n        &:first-child,\n        &:last-child {\n          background-color: transparent;\n        }\n      }\n\n      &.labels {\n        &::after {\n          content: attr(data-value);\n          left: 2px;\n          position: absolute;\n          top: 16px;\n          transform: translate(-50%);\n        }\n      }\n    }\n  }\n}\n\n:host(c-slider.c-slider--labels) {\n  padding-bottom: 24px;\n}\n\n:host(c-slider:focus-within),\n:host(c-slider:hover) {\n  --_c-slider-tooltip-opacity: 1;\n  --_c-slider-tooltip-y: -8px;\n}\n","import {\n  Component,\n  Event,\n  EventEmitter,\n  Host,\n  Prop,\n  State,\n  Watch,\n  h,\n} from '@stencil/core';\n\n/**\n * @group Form\n */\n@Component({\n  tag: 'c-slider',\n  styleUrl: 'c-slider.scss',\n  shadow: true,\n})\nexport class CSlider {\n  /**\n   * Id of the element\n   */\n  @Prop({ attribute: 'id' }) hostId: string;\n\n  /**\n   * Id of the element\n   */\n  @Prop({ attribute: 'name' }) hostName: string;\n\n  /**\n   * Aria label\n   */\n  @Prop({ attribute: 'aria-label' }) ariaLabel: string;\n\n  /**\n   * Max value\n   */\n  @Prop() max = '100';\n\n  /**\n   * Min value\n   */\n  @Prop() min = '0';\n\n  /**\n   * Step\n   */\n  @Prop() step = '1';\n\n  /**\n   * Value\n   */\n  @Prop() value: string | number = '50';\n\n  /**\n   * Unit\n   */\n  @Prop() unit = '%';\n\n  /**\n   * Thow ticks\n   */\n  @Prop() ticks = false;\n\n  /**\n   * Show tick labels\n   */\n  @Prop() labels = false;\n\n  /**\n   * Disable tooltip\n   */\n  @Prop() disableTooltip = false;\n\n  /**\n   * Label of the slider\n   */\n  @Prop() label: string;\n\n  /**\n   * Disable the slider\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Segment count\n   */\n  @Prop() segments = '10';\n\n  /**\n   * Emit value changes to parent\n   */\n  @Event({ bubbles: false }) changeValue: EventEmitter;\n\n  @State() trackPosition: number;\n\n  @State() tickPositions: string[] = [];\n\n  private static _uniqueId = 0;\n\n  private _inputElement: HTMLInputElement;\n\n  @Watch('segments')\n  onSegmentChange() {\n    this._calculateTickPositions();\n  }\n\n  @Watch('value')\n  onValueChange(value) {\n    this._calculateTrackPosition();\n\n    requestAnimationFrame(() => {\n      this._inputElement.value = value.toString();\n    });\n  }\n\n  private _formatNumber(number: number, decimals = 0) {\n    return new Intl.NumberFormat('fi-FI', {\n      maximumFractionDigits: decimals,\n      minimumFractionDigits: decimals,\n    }).format(number);\n  }\n\n  private _calculateTickPositions() {\n    this.tickPositions = [...new Array(+this.segments + 1)].map((_, index) => {\n      const fraction = +this.max / +this.segments;\n\n      return (index * fraction).toString();\n    });\n  }\n\n  private _calculateTrackPosition() {\n    this.trackPosition =\n      ((+this.value - +this.min) / (+this.max - +this.min)) * 100;\n  }\n\n  private _onInput(event: Event) {\n    const { value } = event.target as HTMLInputElement;\n\n    this.changeValue.emit(typeof this.value === 'number' ? +value : value);\n\n    this._calculateTrackPosition();\n  }\n\n  private _isActive(value: number) {\n    return this.trackPosition >= (100 / +this.max) * value;\n  }\n\n  componentWillLoad() {\n    CSlider._uniqueId += 1;\n  }\n\n  componentDidLoad() {\n    this._calculateTrackPosition();\n\n    this._calculateTickPositions();\n\n    requestAnimationFrame(() => {\n      this._inputElement.value = this.value.toString();\n    });\n  }\n\n  render() {\n    const classes = {\n      'c-slider': true,\n      'c-slider--labels': this.labels,\n    };\n\n    const styles = {\n      '--_c-slider-position': `${this.trackPosition}`,\n    };\n\n    return (\n      <Host class={classes} style={styles}>\n        {!!this.label && (\n          <label class=\"c-slider__label\">{!!this.label && this.label}</label>\n        )}\n\n        <div class=\"c-slider__wrapper\">\n          {!this.disableTooltip && (\n            <div class=\"c-slider__tooltip-wrapper\" aria-hidden=\"true\">\n              <span\n                data-tooltip={`${this._formatNumber(+this.value)}${this.unit}`}\n              ></span>\n            </div>\n          )}\n\n          <input\n            ref={(el) => (this._inputElement = el)}\n            aria-label={this.ariaLabel || this.label}\n            aria-valuenow={this.value}\n            aria-valuetext={`${this.value}${this.unit}`}\n            aria-valuemin={this.min}\n            aria-valuemax={this.max}\n            type=\"range\"\n            name={this.hostName}\n            id={this.hostId || `c-slider__${CSlider._uniqueId}`}\n            min={this.min}\n            max={this.max}\n            step={this.step}\n            disabled={this.disabled}\n            onInput={(event) => this._onInput(event)}\n          />\n        </div>\n\n        <div\n          class={{\n            'c-slider__ticks': true,\n            'c-slider__ticks--disabled': this.disabled,\n          }}\n          aria-hidden=\"true\"\n        >\n          {this.tickPositions.map((position) => (\n            <span\n              class={{\n                active: this._isActive(Math.round(+position)),\n                ticks: this.ticks,\n                labels: this.labels,\n              }}\n              data-value={this._formatNumber(Math.round(+position))}\n            ></span>\n          ))}\n        </div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"yDAAA,MAAMA,EAAa,m8M,MCmBNC,EAAO,M,kJAmBJ,M,SAKA,I,UAKC,I,WAKkB,K,UAKlB,I,WAKC,M,YAKC,M,oBAKQ,M,mCAUN,M,cAKA,K,gDASgB,E,CAOnC,eAAAC,GACEC,KAAKC,yB,CAIP,aAAAC,CAAcC,GACZH,KAAKI,0BAELC,uBAAsB,KACpBL,KAAKM,cAAcH,MAAQA,EAAMI,UAAU,G,CAIvC,aAAAC,CAAcC,EAAgBC,EAAW,GAC/C,OAAO,IAAIC,KAAKC,aAAa,QAAS,CACpCC,sBAAuBH,EACvBI,sBAAuBJ,IACtBK,OAAON,E,CAGJ,uBAAAR,GACND,KAAKgB,cAAgB,IAAI,IAAIC,OAAOjB,KAAKkB,SAAW,IAAIC,KAAI,CAACC,EAAGC,KAC9D,MAAMC,GAAYtB,KAAKuB,KAAOvB,KAAKkB,SAEnC,OAAQG,EAAQC,GAAUf,UAAU,G,CAIhC,uBAAAH,GACNJ,KAAKwB,gBACAxB,KAAKG,OAASH,KAAKyB,OAASzB,KAAKuB,KAAOvB,KAAKyB,KAAQ,G,CAGpD,QAAAC,CAASC,GACf,MAAMxB,MAAEA,GAAUwB,EAAMC,OAExB5B,KAAK6B,YAAYC,YAAY9B,KAAKG,QAAU,UAAYA,EAAQA,GAEhEH,KAAKI,yB,CAGC,SAAA2B,CAAU5B,GAChB,OAAOH,KAAKwB,eAAkB,KAAOxB,KAAKuB,IAAOpB,C,CAGnD,iBAAA6B,GACElC,EAAQmC,WAAa,C,CAGvB,gBAAAC,GACElC,KAAKI,0BAELJ,KAAKC,0BAELI,uBAAsB,KACpBL,KAAKM,cAAcH,MAAQH,KAAKG,MAAMI,UAAU,G,CAIpD,MAAA4B,GACE,MAAMC,EAAU,CACd,WAAY,KACZ,mBAAoBpC,KAAKqC,QAG3B,MAAMC,EAAS,CACb,uBAAwB,GAAGtC,KAAKwB,iBAGlC,OACEe,EAACC,EAAI,CAACC,MAAOL,EAASM,MAAOJ,KACxBtC,KAAK2C,OACNJ,EAAA,SAAOE,MAAM,qBAAqBzC,KAAK2C,OAAS3C,KAAK2C,OAGvDJ,EAAA,OAAKE,MAAM,sBACPzC,KAAK4C,gBACLL,EAAA,OAAKE,MAAM,4BAA2B,cAAa,QACjDF,EAAA,uBACgB,GAAGvC,KAAKQ,eAAeR,KAAKG,SAASH,KAAK6C,UAK9DN,EAAA,SACEO,IAAMC,GAAQ/C,KAAKM,cAAgByC,EAAG,aAC1B/C,KAAKgD,WAAahD,KAAK2C,MAAK,gBACzB3C,KAAKG,MAAK,iBACT,GAAGH,KAAKG,QAAQH,KAAK6C,OAAM,gBAC5B7C,KAAKyB,IAAG,gBACRzB,KAAKuB,IACpB0B,KAAK,QACLC,KAAMlD,KAAKmD,SACXC,GAAIpD,KAAKqD,QAAU,aAAavD,EAAQmC,YACxCR,IAAKzB,KAAKyB,IACVF,IAAKvB,KAAKuB,IACV+B,KAAMtD,KAAKsD,KACXC,SAAUvD,KAAKuD,SACfC,QAAU7B,GAAU3B,KAAK0B,SAASC,MAItCY,EAAA,OACEE,MAAO,CACL,kBAAmB,KACnB,4BAA6BzC,KAAKuD,UACnC,cACW,QAEXvD,KAAKgB,cAAcG,KAAKsC,GACvBlB,EAAA,QACEE,MAAO,CACLiB,OAAQ1D,KAAK+B,UAAU4B,KAAKC,OAAOH,IACnCI,MAAO7D,KAAK6D,MACZxB,OAAQrC,KAAKqC,QACd,aACWrC,KAAKQ,cAAcmD,KAAKC,OAAOH,S,sFAzHxC3D,EAAAmC,UAAY,E"}