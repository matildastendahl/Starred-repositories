{"version":3,"names":["cProgressBarCss","CProgressBar","_getSafeValue","this","value","render","style","classes","indeterminate","singleLine","detailsClasses","a11y","toString","title","params","role","max","h","Host","Object","assign","class","hideDetails","label"],"sources":["src/components/c-progress-bar/c-progress-bar.scss?tag=c-progress-bar&encapsulation=shadow","src/components/c-progress-bar/c-progress-bar.tsx"],"sourcesContent":[":host {\n  /**\n   * @prop --c-progress-bar-color: Progress bar color\n   * @prop --c-progress-bar-background-color: Progress bar background color\n   * @prop --c-progress-bar-border-width: Progress bar border width in px\n   * @prop --c-progress-bar-height: Progress bar height in px\n   * @prop --c-progress-bar-value: Progress bar value in %\n   */\n  --_c-progress-bar-color: var(--c-progress-bar-color, var(--c-primary-600));\n  --_c-progress-bar-background-color: var(\n    --c-progress-bar-background-color,\n    var(--c-tertiary-200)\n  );\n  --_c-progress-bar-border-width: var(--c-progress-bar-border-width, 4px);\n  --_c-progress-bar-height: var(--c-progress-bar-height, 16px);\n  --_c-progress-bar-value: var(--c-progress-bar-value, 0%);\n\n  align-items: center;\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.c-progress {\n  $this: &;\n\n  position: relative;\n  background-color: var(--_c-progress-bar-background-color);\n  border-radius: var(--_c-progress-bar-height);\n  box-shadow: 0 0 0 var(--_c-progress-bar-border-width)\n    var(--_c-progress-bar-background-color);\n  flex-basis: 100%;\n  height: calc(\n    var(--_c-progress-bar-height) -\n      calc(var(--_c-progress-bar-border-width) * 2)\n  );\n  margin: var(--_c-progress-bar-border-width);\n  opacity: 0.75;\n  overflow: hidden;\n  transform: translateZ(0); // Safari - overflow: hidden & border-radius fix\n  width: calc(100% - calc(var(--_c-progress-bar-border-width) * 2));\n\n  &.adjacent-details {\n    flex: 1;\n  }\n\n  &__percentage {\n    flex-basis: 100%;\n    font-size: 14px;\n    margin-top: 2px;\n    text-align: end;\n    white-space: nowrap;\n    padding-left: 16px;\n\n    &--negative {\n      color: var(--c-error-600);\n    }\n\n    &.adjacent-details {\n      flex: 0;\n    }\n  }\n\n  progress {\n    background-color: var(--_c-progress-bar-background-color);\n    border-radius: var(--_c-progress-bar-height);\n    width: 100%;\n    overflow: hidden;\n    height: calc(\n      var(--_c-progress-bar-height) -\n        calc(var(--_c-progress-bar-border-width) * 2)\n    );\n    position: absolute;\n    border: none;\n\n    @supports selector(:focus-within) {\n      &:focus {\n        outline: none;\n      }\n    }\n  }\n\n  &:focus-within {\n    outline: 2px var(--c-primary-600) solid;\n    outline-offset: 6px;\n  }\n\n  ::-webkit-progress-bar {\n    background-color: transparent;\n  }\n\n  ::-webkit-progress-value {\n    transition: width 0.3s ease-in-out;\n    background-color: var(--_c-progress-bar-color);\n    border-radius: var(--_c-progress-bar-height);\n  }\n\n  ::-moz-progress-bar {\n    transition: padding-bottom 1s;\n    padding-left: 60px;\n    padding-bottom: var(--_c-progress-bar-value);\n    background-color: var(--_c-progress-bar-color);\n    height: 0;\n    transform-origin: 0 0;\n    transform: rotate(-90deg) translateX(-60px);\n  }\n\n  /* Force indeterminate bars to have zero width */\n  :indeterminate::-moz-progress-bar {\n    width: 0;\n  }\n\n  &--indeterminate {\n    &::before {\n      content: '';\n      z-index: 1;\n      position: absolute;\n      background-color: var(--_c-progress-bar-color);\n      border-radius: var(--_c-progress-bar-height);\n      left: -100%;\n      height: 100%;\n      transform: translateX(var(--_c-progress-bar-value, 0%));\n      transition: transform 0.3s ease-in-out;\n      animation: indeterminate 2s infinite linear;\n      width: 50%;\n      transform-origin: 0% 50%;\n    }\n  }\n}\n\n@keyframes indeterminate {\n  0% {\n    transform: translateX(100%) scaleX(1);\n  }\n\n  30% {\n    transform: translateX(170%) scaleX(1.75);\n  }\n\n  70% {\n    transform: translateX(500%) scaleX(0.1);\n  }\n\n  100% {\n    transform: translateX(500%) scaleX(0.1);\n  }\n}\n","import { Component, Host, h, Prop } from '@stencil/core';\n\n/**\n * @group Indicators\n */\n@Component({\n  tag: 'c-progress-bar',\n  styleUrl: 'c-progress-bar.scss',\n  shadow: true,\n})\nexport class CProgressBar {\n  /**\n   * Progress bar value in percentage (0 to 100)\n   */\n  @Prop() value = 0;\n\n  /**\n   * Hide the percentage display\n   */\n  @Prop() hideDetails = false;\n\n  /**\n   * Place details next to progress bar\n   */\n  @Prop() singleLine = false;\n\n  /**\n   * Optional details message next to percentage display\n   */\n  @Prop() label = '';\n\n  /**\n   * Indeterminate state of the progress bar\n   */\n  @Prop() indeterminate = false;\n\n  private _getSafeValue() {\n    if (this.value >= 0 && this.value <= 100) return this.value;\n\n    if (this.value < 0) return 0;\n\n    return 100;\n  }\n\n  render() {\n    const value = this._getSafeValue();\n\n    const style = {\n      '--_c-progress-bar-value': `${value}%`,\n    };\n\n    const classes = {\n      'c-progress': true,\n      'c-progress--indeterminate': this.indeterminate,\n      'adjacent-details': this.singleLine,\n    };\n\n    const detailsClasses = {\n      'c-progress__percentage': true,\n      'c-progress__percentage--negative': this.value < 0,\n      'adjacent-details': this.singleLine,\n    };\n\n    const a11y = {\n      'aria-busy': (!this.indeterminate).toString(),\n      title: `${value} %`,\n    };\n\n    const params: {\n      role: string;\n      max: string;\n      value?: string;\n      'aria-valuenow'?: string;\n    } = {\n      role: 'progressbar',\n      max: '100',\n    };\n\n    if (!this.indeterminate) {\n      params.value = value.toString();\n      params['aria-valuenow'] = value.toString();\n    }\n\n    return (\n      <Host {...a11y}>\n        <label class={classes} style={style}>\n          <progress {...params}>{!this.indeterminate && `${value}%`}</progress>\n        </label>\n\n        {!this.indeterminate && !this.hideDetails && (\n          <div class={detailsClasses}>\n            {this.value} % {this.label}\n          </div>\n        )}\n      </Host>\n    );\n  }\n}\n"],"mappings":"6CAAA,MAAMA,EAAkB,wyF,MCUXC,EAAY,M,oCAIP,E,iBAKM,M,gBAKD,M,WAKL,G,mBAKQ,K,CAEhB,aAAAC,GACN,GAAIC,KAAKC,OAAS,GAAKD,KAAKC,OAAS,IAAK,OAAOD,KAAKC,MAEtD,GAAID,KAAKC,MAAQ,EAAG,OAAO,EAE3B,OAAO,G,CAGT,MAAAC,GACE,MAAMD,EAAQD,KAAKD,gBAEnB,MAAMI,EAAQ,CACZ,0BAA2B,GAAGF,MAGhC,MAAMG,EAAU,CACd,aAAc,KACd,4BAA6BJ,KAAKK,cAClC,mBAAoBL,KAAKM,YAG3B,MAAMC,EAAiB,CACrB,yBAA0B,KAC1B,mCAAoCP,KAAKC,MAAQ,EACjD,mBAAoBD,KAAKM,YAG3B,MAAME,EAAO,CACX,cAAeR,KAAKK,eAAeI,WACnCC,MAAO,GAAGT,OAGZ,MAAMU,EAKF,CACFC,KAAM,cACNC,IAAK,OAGP,IAAKb,KAAKK,cAAe,CACvBM,EAAOV,MAAQA,EAAMQ,WACrBE,EAAO,iBAAmBV,EAAMQ,U,CAGlC,OACEK,EAACC,EAAIC,OAAAC,OAAA,GAAKT,GACRM,EAAA,SAAOI,MAAOd,EAASD,MAAOA,GAC5BW,EAAA,WAAAE,OAAAC,OAAA,GAAcN,IAAUX,KAAKK,eAAiB,GAAGJ,QAGjDD,KAAKK,gBAAkBL,KAAKmB,aAC5BL,EAAA,OAAKI,MAAOX,GACTP,KAAKC,MAAK,MAAKD,KAAKoB,O"}