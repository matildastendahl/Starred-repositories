{"version":3,"names":["cAccordionItemCss","CAccordionItem","this","_isCollapsing","_isExpanding","handleKeyDown","event","target","tagName","key","code","preventDefault","_onToggleAccordion","stop","stopPropagation","_collapsedHeight","outlineHeight","outlined","_accordionHeader","offsetHeight","_expandedHeight","headerHeight","contentHeight","_accordionContent","e","collapsable","expanded","_accordionElement","classList","add","_expand","_collapse","startHeight","endHeight","_animation","cancel","itemChange","emit","value","animate","height","duration","easing","onfinish","_onAnimationFinish","oncancel","style","window","requestAnimationFrame","isOpen","remove","componentWillLoad","_uniqueId","componentDidLoad","hasCustomHeader","el","querySelector","hasIcon","render","accordionClasses","headerClasses","indicatorClasses","h","Host","id","ref","class","open","onClick","name","heading","path","mdiChevronRight","role"],"sources":["src/components/c-accordion-item/c-accordion-item.scss?tag=c-accordion-item&encapsulation=shadow","src/components/c-accordion-item/c-accordion-item.tsx"],"sourcesContent":[":host {\n  /**\n   * @prop --c-accordion-item-header-background-color: Accordion item header background color\n   * @prop --c-accordion-item-outline-color: Accordion item outline color\n   * @prop --c-accordion-item-text-color: Accordion item text color\n   */\n  --_c-accordion-item-header-background-color: var(--c-accordion-item-header-background-color, var(--c-primary-200));\n  --_c-accordion-item-outline-color: var(--c-accordion-item-outline-color, var(--c-primary-600));\n  --_c-accordion-item-text-color: var(--c-accordion-item-text-color, var(--c-primary-600));\n\n  max-width: 100%;\n\n  summary::-webkit-details-marker {\n    display: none;\n  }\n}\n\n.c-accordion-item {\n  $this: &;\n\n  --_c-accordion-item-indicator-rotation: rotate(0deg);\n  --_c-accordion-item-content-height: 0;\n  --_c-accordion-item-min-height: 46px;\n  --_c-accordion-item-border-radius: 6px;\n  --_c-accordion-item-padding: 12px;\n  --_c-accordion-item-overflow: visible;\n  --_c-accordion-item-outline-color-offset: 2px;\n\n  display: block;\n  overflow: var(--_c-accordion-item-overflow);\n\n  &--expanding {\n    --_c-accordion-item-overflow: hidden !important;\n    --_c-accordion-item-outline-color: transparent;\n  }\n\n  &--expanded {\n    --_c-accordion-item-content-height: auto;\n    --_c-accordion-item-indicator-rotation: rotate(90deg);\n    --_c-accordion-item-overflow: visible;\n  }\n\n  &--outlined {\n    box-shadow: inset 0 0 0 2px var(--_c-accordion-item-header-background-color);\n    border-radius: var(--_c-accordion-item-border-radius);\n  }\n\n  &__header {\n    min-height: var(--_c-accordion-item-min-height);\n    user-select: none;\n    background-color: var(--_c-accordion-item-header-background-color);\n    display: grid;\n    column-gap: 8px;\n    align-items: center;\n    padding: 0 var(--_c-accordion-item-padding);\n    border-radius: var(--_c-accordion-item-border-radius);\n    cursor: pointer;\n    grid-template-columns: 1fr auto;\n    border: none;\n    text-align: left;\n    margin: 0;\n    font-family: var(--c-font-family);\n    position: relative;\n\n    &--has-icon {\n      grid-template-columns: auto 1fr auto;\n    }\n\n    &--expanded {\n      cursor: default;\n\n      &#{$this}__header--collapsable {\n        cursor: pointer;\n      }\n    }\n\n    &:focus {\n      outline: 2px var(--_c-accordion-item-outline-color) solid;\n      outline-offset: var(--_c-accordion-item-outline-color-offset);\n    }\n\n    @supports selector(:focus-visible) {\n      &:focus {\n        outline: none;\n      }\n    }\n\n    &:focus-visible {\n      outline: 2px var(--_c-accordion-item-outline-color) solid;\n      outline-offset: var(--_c-accordion-item-outline-color-offset);\n    }\n  }\n\n  &__title {\n    margin-top: 0;\n    margin-bottom: 0;\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 1;\n    color: var(--_c-accordion-item-text-color);\n  }\n\n  &__content {\n    padding: 16px;\n  }\n\n  &__content-wrapper {\n    overflow: visible;\n  }\n\n  &__icon {\n    height: 24px;\n    font-size: 24px;\n    color: var(--_c-accordion-item-text-color);\n    display: flex;\n    align-items: center;\n\n    > * {\n      height: 24px;\n      display: flex;\n      align-items: center;\n    }\n  }\n\n  &__indicator {\n    display: flex;\n    align-items: center;\n    color: var(--_c-accordion-item-text-color);\n    justify-self: end;\n\n    c-icon {\n      width: 24px;\n      height: 24px !important;\n      transform: var(--_c-accordion-item-indicator-rotation);\n      transition: transform 0.3s ease;\n    }\n  }\n}\n","import {\n  Component,\n  h,\n  Prop,\n  Event,\n  EventEmitter,\n  Listen,\n  Element,\n  Host,\n  State,\n} from '@stencil/core';\nimport { mdiChevronRight } from '@mdi/js';\n\n/**\n * @parent c-accordion\n * @slot Default slot - Default slot\n * @slot header - Custom header slot\n */\n@Component({\n  tag: 'c-accordion-item',\n  styleUrl: 'c-accordion-item.scss',\n  shadow: true,\n})\nexport class CAccordionItem {\n  @Element() el: HTMLCAccordionItemElement;\n\n  /**\n   * Marks the item as collapsable\n   * @private\n   */\n  @Prop() collapsable = false;\n\n  /**\n   * Heading of the accordion item\n   */\n  @Prop() heading: string;\n\n  /**\n   * Value of the accordion item\n   */\n  @Prop() value: number | string;\n\n  /**\n   * Expansion status of the item\n   */\n  @Prop() expanded = false;\n\n  /**\n   * Show an outline around the expanded item\n   * @private\n   */\n  @Prop() outlined = false;\n\n  /**\n   * Emit changes to the c-accordion\n   * @private\n   */\n  @Event() itemChange: EventEmitter;\n\n  private _animation: Animation;\n\n  private _accordionElement: HTMLDetailsElement;\n\n  private _accordionHeader: HTMLDetailsElement;\n\n  private _accordionContent: HTMLDivElement;\n\n  private _isCollapsing = false;\n\n  private _isExpanding = false;\n\n  private static _uniqueId = 0;\n\n  @Listen('keydown', { capture: true })\n  handleKeyDown(event: KeyboardEvent) {\n    if (\n      (event.target as HTMLElement).tagName === 'C-ACCORDION-ITEM' &&\n      (event.key === 'Enter' || event.code === 'Space')\n    ) {\n      event.preventDefault();\n\n      this._onToggleAccordion(event);\n    }\n  }\n\n  @Listen('changeValue')\n  stop(event: Event) {\n    event.stopPropagation();\n  }\n\n  private get _collapsedHeight() {\n    const outlineHeight = this.outlined ? 4 : 0;\n\n    return this._accordionHeader.offsetHeight + outlineHeight;\n  }\n\n  private get _expandedHeight() {\n    const outlineHeight = this.outlined ? 4 : 0;\n    const headerHeight = this._accordionHeader.offsetHeight;\n    const contentHeight = this._accordionContent.offsetHeight;\n\n    return headerHeight + contentHeight + outlineHeight;\n  }\n\n  private _onToggleAccordion(e) {\n    e.preventDefault();\n\n    if (!this.collapsable && this.expanded) return;\n\n    this._accordionElement.classList.add('c-accordion-item--expanding');\n\n    if (this._isCollapsing || !this.expanded) {\n      this._expand();\n    } else if (this._isExpanding || this.expanded) {\n      this._collapse();\n    }\n  }\n\n  private _collapse() {\n    this._isCollapsing = true;\n\n    this.expanded = false;\n\n    const startHeight = `${this._accordionElement.offsetHeight}px`;\n\n    const endHeight = `${this._collapsedHeight}px`;\n\n    if (this._animation) {\n      this._animation.cancel();\n    }\n\n    this.itemChange.emit({ value: this.value, expanded: this.expanded });\n\n    this._animation = this._accordionElement.animate(\n      { height: [startHeight, endHeight] },\n      { duration: 300, easing: 'cubic-bezier(0.075, 0.82, 0.165, 1)' },\n    );\n\n    this._animation.onfinish = () => this._onAnimationFinish(false);\n    this._animation.oncancel = () => (this._isCollapsing = false);\n  }\n\n  private _expand() {\n    this._accordionElement.style.height = `${this._accordionElement.offsetHeight}px`;\n\n    this.expanded = true;\n\n    window.requestAnimationFrame(() => {\n      this._isExpanding = true;\n\n      const startHeight = `${this._collapsedHeight}px`;\n\n      const endHeight = `${this._expandedHeight}px`;\n\n      if (this._animation) {\n        this._animation.cancel();\n      }\n\n      this.itemChange.emit({ value: this.value, expanded: this.expanded });\n\n      this._animation = this._accordionElement.animate(\n        { height: [startHeight, endHeight] },\n        { duration: 300, easing: 'cubic-bezier(0.25, 0.8, 0.5, 1)' },\n      );\n\n      this._animation.onfinish = () => this._onAnimationFinish(true);\n      this._animation.oncancel = () => (this._isExpanding = false);\n    });\n  }\n\n  private _onAnimationFinish(isOpen: boolean) {\n    this.expanded = isOpen;\n\n    this._animation = null;\n\n    this._isCollapsing = false;\n\n    this._isExpanding = false;\n\n    this._accordionElement.style.height = '';\n\n    this._accordionElement.classList.remove('c-accordion-item--expanding');\n\n    this.expanded = isOpen;\n  }\n\n  componentWillLoad() {\n    CAccordionItem._uniqueId += 1;\n  }\n\n  @State() hasCustomHeader = false;\n\n  @State() hasIcon = false;\n\n  componentDidLoad() {\n    this.hasCustomHeader = !!this.el.querySelector('[slot=\"header\"]');\n    this.hasIcon = !!this.el.querySelector('[slot=\"icon\"]');\n  }\n\n  render() {\n    const accordionClasses = {\n      'c-accordion-item': true,\n      'c-accordion-item--expanded': this.expanded,\n      'c-accordion-item--outlined': this.outlined,\n    };\n\n    const headerClasses = {\n      'c-accordion-item__header': true,\n      'c-accordion-item__header--collapsable': this.collapsable,\n      'c-accordion-item__header--expanded': this.expanded,\n      'c-accordion-item__header--has-icon': this.hasIcon,\n    };\n\n    const indicatorClasses = {\n      'c-accordion-item__indicator': true,\n      'c-accordion-item__indicator--expanded': this.expanded,\n    };\n\n    return (\n      <Host>\n        <details\n          id={`panel__${CAccordionItem._uniqueId}`}\n          ref={(el) => (this._accordionElement = el as HTMLDetailsElement)}\n          class={accordionClasses}\n          open={!!this.expanded}\n        >\n          <summary\n            ref={(el) => (this._accordionHeader = el as HTMLDetailsElement)}\n            class={headerClasses}\n            onClick={(event) => this._onToggleAccordion(event)}\n          >\n            {this.hasIcon && (\n              <div class=\"c-accordion-item__icon\" aria-visible=\"hidden\">\n                <slot name=\"icon\"></slot>\n              </div>\n            )}\n\n            {this.hasCustomHeader && <slot name=\"header\"></slot>}\n\n            {!this.hasCustomHeader && (\n              <div class=\"c-accordion-item__title\">{this.heading}</div>\n            )}\n\n            <div class={indicatorClasses}>\n              <c-icon\n                path={mdiChevronRight}\n                class={{ expanded: this.expanded }}\n              ></c-icon>\n            </div>\n          </summary>\n\n          <div\n            ref={(el) => (this._accordionContent = el as HTMLDivElement)}\n            class=\"c-accordion-item__content-wrapper\"\n          >\n            <div\n              class=\"c-accordion-item__content\"\n              role=\"region\"\n              aria-labelledby={`header__${CAccordionItem._uniqueId}`}\n            >\n              <slot></slot>\n            </div>\n          </div>\n        </details>\n      </Host>\n    );\n  }\n}\n"],"mappings":"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"}