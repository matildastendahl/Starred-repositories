{"file":"c-tab-buttons.entry.cjs.js","mappings":"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","names":["h","Host"],"sources":["src/components/c-tab-buttons/c-tab-buttons.scss?tag=c-tab-buttons&encapsulation=shadow","src/components/c-tab-buttons/c-tab-buttons.tsx"],"sourcesContent":[":host {\n  /**\n   * @prop --c-tab-buttons-background-color-active-hover: Active tab button hover background color\n   * @prop --c-tab-buttons-background-color-active: Active tab button background color\n   * @prop --c-tab-buttons-text-color-active: Active tab button text color\n   */\n  --_c-tab-buttons-background-color-active-hover: var(--c-tab-buttons-background-color-active-hover, var(--c-primary-400));\n  --_c-tab-buttons-background-color-active: var(--c-tab-buttons-background-color-active, var(--c-primary-600));\n  --_c-tab-buttons-text-color-active: var(--c-tab-buttons-text-color-active, var(--c-white));\n\n  /**\n   * @prop --c-tab-buttons-background-color-hover: Tab button hover background color\n   * @prop --c-tab-buttons-background-color: Tab button background color\n   * @prop --c-tab-buttons-border-color: Tab button border color\n   * @prop --c-tab-buttons-text-color: Tab button text color\n   */\n  --_c-tab-buttons-background-color-hover: var(--c-tab-buttons-background-color-hover, var(--c-primary-200));\n  --_c-tab-buttons-background-color: var(--c-tab-buttons-background-color, var(--c-white));\n  --_c-tab-buttons-border-color: var(--c-tab-buttons-border-color, var(--c-primary-600));\n  --_c-tab-buttons-text-color: var(--c-tab-buttons-text-color, var(--c-primary-600));\n\n  /**\n   * @prop --c-tab-buttons-background-color: Disabled tab buttons border color\n   */\n  --_c-tab-buttons-border-color-disabled: var(--c-tab-buttons-border-color-disabled, var(--c-tertiary-400));\n\n  /**\n   * @prop --c-tab-buttons-border-radius: Tab buttons border radius\n   */\n  --_c-tab-buttons-border-radius: var(--c-tab-buttons-border-radius, 4px);\n\n  background-color: var(--_c-tab-buttons-border-color);\n  border-radius: var(--_c-tab-buttons-border-radius);\n  box-shadow: 0 0 0 2px var(--_c-tab-buttons-border-color);\n  display: flex;\n  flex-wrap: wrap;\n  gap: 2px;\n  margin: 2px;\n\n  ::slotted(c-button) {\n    --c-button-background-color-hover: var(--_c-tab-buttons-background-color-active-hover);\n    --c-button-background-color: var(--_c-tab-buttons-background-color-active);\n    --c-button-text-color: var(--_c-tab-buttons-text-color-active);\n    --_c-button-border-radius: 0;\n    --_c-button-min-width: auto;\n    --_c-button-padding: 0 8px;\n    --_c-button-outline-offset: 4px;\n\n    flex-grow: 1;\n  }\n\n  ::slotted(c-button.c-button--outlined) {\n    --c-button-outlined-background-color-hover: var(--_c-tab-buttons-background-color-hover);\n    --c-button-outlined-background-color: var(--_c-tab-buttons-background-color);\n    --c-button-outlined-border-color: var(--_c-tab-buttons-border-color);\n    --c-button-outlined-text-color: var(--_c-tab-buttons-text-color);\n\n    box-shadow: none;\n\n    &::before,\n    &::after {\n      background-color: #ffffff;\n      border-radius: inherit;\n      content: \"\";\n      height: 100%;\n      left: 0;\n      position: absolute;\n      top: 0;\n      transition: background-color 0.3s ease-in-out;\n      width: 100%;\n      z-index: -1;\n    }\n\n    &:hover {\n      background-color: var(--c-tab-button-background-color);\n    }\n  }\n\n  ::slotted(c-button:first-child) {\n    --_c-button-border-radius: var(--_c-tab-buttons-border-radius) 0 0 var(--_c-tab-buttons-border-radius);\n  }\n\n  ::slotted(c-button:last-child) {\n    --_c-button-border-radius: 0 var(--_c-tab-buttons-border-radius) var(--_c-tab-buttons-border-radius) 0;\n  }\n\n  ::slotted(*) {\n    flex-grow: 1;\n  }\n}\n\n:host(.disabled) {\n  --_c-tab-buttons-border-color: var(--_c-tab-buttons-border-color-disabled) !important;\n\n  pointer-events: none;\n}\n\n:host(.c-tab-buttons) {\n  ::slotted(c-button:focus) {\n    outline: none;\n  }\n\n  ::slotted(c-button:focus-visible) {\n    outline: 2px var(--_c-tab-buttons-border-color) solid;\n    outline-offset: 4px;\n    z-index: 1;\n  }\n}\n","import {\n  Component,\n  h,\n  Element,\n  Prop,\n  Event,\n  EventEmitter,\n  Watch,\n  Listen,\n  Host,\n} from '@stencil/core';\n\n/**\n * @group Content Selectors\n * @slot Default slot - Default slot for the c-button elements\n */\n@Component({\n  tag: 'c-tab-buttons',\n  styleUrl: 'c-tab-buttons.scss',\n  shadow: true,\n})\nexport class CTabButtons {\n  /**\n   * Value of tab buttons\n   */\n  @Prop({ mutable: true }) value: number | string = 0;\n\n  /**\n   * Always require a selection\n   */\n  @Prop() mandatory = false;\n\n  /**\n   * Used as controller for c-tabs\n   * @private\n   */\n  @Prop() tabs = false;\n\n  /**\n   * Size of the buttons\n   */\n  @Prop() size: 'default' | 'small' = 'default';\n\n  /**\n   * Disable tab buttons\n   */\n  @Prop({ attribute: 'disabled' }) hostDisabled = false;\n\n  /**\n   * Emit changes to the parent\n   */\n  @Event({ bubbles: false }) changeValue: EventEmitter<number | string>;\n\n  @Element() el: HTMLCTabButtonsElement;\n\n  private _isIndexBased: boolean;\n\n  private _focusedTabValue = this.value;\n\n  @Watch('value')\n  onValueChange(value: string | number) {\n    this.buttons.forEach((button: HTMLCButtonElement) => {\n      if (!button.disabled) {\n        button.setAttribute('outlined', 'true');\n      }\n    });\n\n    if (value !== null) {\n      this.buttons.forEach((button: HTMLCButtonElement) => {\n        if (!button.disabled) {\n          button.setAttribute('outlined', 'true');\n        }\n      });\n\n      const button =\n        this.buttons.find((btn) => btn.value === value) || this.buttons[value];\n\n      if (button) {\n        button.removeAttribute('outlined');\n      }\n    }\n\n    this.changeValue.emit(this.buttons[value]?.value ?? value);\n  }\n\n  @Listen('tabFocus', { passive: true })\n  tabFocusHandler(event: CustomEvent) {\n    event.stopPropagation();\n\n    this._focusedTabValue = event.detail;\n  }\n\n  @Listen('keyup', { capture: true })\n  handleKeyUp(event: KeyboardEvent) {\n    event.stopPropagation();\n\n    const isArrowLeft = event.key === 'ArrowLeft';\n    const isArrowRight = event.key === 'ArrowRight';\n\n    if (!isArrowRight && !isArrowLeft) return;\n\n    const tabIndex =\n      this._getTabIndex(this._focusedTabValue) ??\n      +this.buttons[this._focusedTabValue]?.dataset.index;\n\n    const firstAvailableValue = this.availableValues.at(0);\n    const lastAvailableValue = this.availableValues.at(-1);\n\n    const isBeginning = this._focusedTabValue === firstAvailableValue;\n    const isEnd = this._focusedTabValue === lastAvailableValue;\n\n    const nextValue = isEnd\n      ? firstAvailableValue\n      : this.availableValues[tabIndex + 1];\n\n    const previousValue = isBeginning\n      ? lastAvailableValue\n      : this.availableValues[tabIndex - 1];\n\n    const value = isArrowLeft ? previousValue : nextValue;\n\n    const item = this.buttons\n      .find(\n        (button) => button.value === value || button.dataset.index === value,\n      )\n      .shadowRoot.querySelector('button');\n\n    requestAnimationFrame(() => {\n      item?.focus();\n    });\n  }\n\n  @Listen('tabChange', { passive: true })\n  onTabChange(\n    event: CustomEvent<{\n      value: number | string;\n      element: HTMLCButtonElement;\n    }>,\n  ) {\n    if (!this.tabs) event.stopPropagation();\n\n    const isActive =\n      this.value !== null &&\n      (this._isIndexBased\n        ? +event.detail.value === +this.value\n        : event.detail.value === this.value);\n\n    // Disable deselection if mandatory prop is set to true\n    if (this.mandatory && isActive) {\n      return;\n    }\n\n    const nullValue = this._isIndexBased ? null : '';\n    const value = this._isIndexBased ? +event.detail.value : event.detail.value;\n\n    this.value = isActive ? nullValue : value;\n  }\n\n  get availableValues() {\n    return this.buttons.map((button) => button.value ?? button.dataset.index);\n  }\n\n  get buttons() {\n    return Array.from(\n      this.el.querySelectorAll(':scope > c-button'),\n    ) as HTMLCButtonElement[];\n  }\n\n  private _getTabIndex(value: string | number) {\n    const index = this.availableValues.findIndex(\n      (buttonValue) => buttonValue === value,\n    );\n\n    return index;\n  }\n\n  componentDidLoad() {\n    this._isIndexBased = this.buttons.every(\n      (button) => typeof button.value === 'undefined',\n    );\n\n    this.buttons.forEach((button: HTMLCButtonElement, index) => {\n      button.setAttribute('data-index', String(index));\n      button.setAttribute('tabs', 'true');\n\n      if (!button.disabled) {\n        button.setAttribute('outlined', 'true');\n        button.outlined = true;\n      }\n\n      button.disabled = this.hostDisabled || button.disabled;\n      button.size = this.size;\n\n      const isActive =\n        this.value !== null &&\n        (this._isIndexBased\n          ? index === +this.value\n          : button.value === this.value);\n\n      button.shadowRoot\n        .querySelector('button')\n        ?.setAttribute('tabindex', isActive && !this.hostDisabled ? '0' : '-1');\n\n      if (isActive) {\n        button.removeAttribute('outlined');\n      }\n    });\n  }\n\n  render() {\n    const classes = {\n      'c-tab-buttons': true,\n      disabled: this.hostDisabled,\n    };\n\n    return (\n      <Host class={classes}>\n        <slot></slot>\n      </Host>\n    );\n  }\n}\n"],"version":3}